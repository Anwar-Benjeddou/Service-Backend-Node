"use strict";(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[2011],{17451:function(e,n,r){var i=r(93433),a=r(15671),s=r(43144),t=r(60136),o=r(29388),l=r(72791),c=r(46387),d=r(78695),h=r(73193),u=r(28088),m=r.n(u),p=r(74387),x=r(91923),g=r(80184),j=function(e){(0,t.Z)(r,e);var n=(0,o.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var i=arguments.length,s=new Array(i),t=0;t<i;t++)s[t]=arguments[t];return(e=n.call.apply(n,[this].concat(s))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return(0,s.Z)(r,[{key:"render",value:function(){var e,n,r,a,s,t=this,o=[];return this.state.isOption&&(r=(0,g.jsx)("div",{className:"card-header-right",children:(0,g.jsxs)(c.Z,{alignRight:!0,className:"btn-group card-option",children:[(0,g.jsx)(c.Z.Toggle,{id:"dropdown-basic",className:"btn-icon",children:(0,g.jsx)("i",{className:"feather icon-more-horizontal"})}),(0,g.jsxs)(c.Z.Menu,{as:"ul",className:"list-unstyled card-option",children:[(0,g.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){t.setState((function(e){return{fullCard:!e.fullCard}}))},children:[(0,g.jsx)("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),(0,g.jsxs)("a",{href:x.Z.BLANK_LINK,children:[" ",this.state.fullCard?"Restore":"Maximize"," "]})]}),(0,g.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:function(){t.setState((function(e){return{collapseCard:!e.collapseCard}}))},children:[(0,g.jsx)("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),(0,g.jsxs)("a",{href:x.Z.BLANK_LINK,children:[" ",this.state.collapseCard?"Expand":"Collapse"," "]})]}),(0,g.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler,children:[(0,g.jsx)("i",{className:"feather icon-refresh-cw"}),(0,g.jsx)("a",{href:x.Z.BLANK_LINK,children:" Reload "})]}),(0,g.jsxs)(c.Z.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler,children:[(0,g.jsx)("i",{className:"feather icon-trash"}),(0,g.jsx)("a",{href:x.Z.BLANK_LINK,children:" Remove "})]})]})]})})),a=(0,g.jsxs)(d.Z.Header,{children:[(0,g.jsx)(d.Z.Title,{as:"h5",children:this.props.title}),r]}),this.state.fullCard&&(o=[].concat((0,i.Z)(o),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(o=[].concat((0,i.Z)(o),["card-load"]),n=(0,g.jsx)("div",{className:"card-loader",children:(0,g.jsx)("i",{className:"pct-loader1 anim-rotate"})})),this.state.cardRemove&&(o=[].concat((0,i.Z)(o),["d-none"])),this.props.cardClass&&(o=[].concat((0,i.Z)(o),[this.props.cardClass])),s=(0,g.jsxs)(d.Z,{className:o.join(" "),style:e,children:[a,(0,g.jsx)(h.Z,{in:!this.state.collapseCard,children:(0,g.jsx)("div",{children:(0,g.jsx)(d.Z.Body,{children:this.props.children})})}),n]}),(0,g.jsx)(p.Z,{children:s})}}]),r}(l.Component);n.Z=m()(j)},42464:function(e,n,r){r(72791);var i=r(99410),a=r(74292),s=r(95693),t=r(80184);n.Z=function(e){var n=e.name,r=e.label,o=e.onChange,l=e.onBlur,c=e.value,d=e.type,h=e.isInvalid,u=e.errors,m=e.touched;return(0,t.jsx)(t.Fragment,{children:"Phone"===r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{htmlFor:"basic-url",children:[n," ",(0,t.jsx)(s.Z,{errors:u,touched:m})]}),(0,t.jsxs)(i.Z,{className:"mb-3",children:[(0,t.jsx)(i.Z.Prepend,{children:(0,t.jsx)(i.Z.Text,{id:"basic-addon1",children:"+216"})}),(0,t.jsx)(a.Z,{placeholder:r,"aria-label":n,"aria-describedby":n,onChange:o,onBlur:l,value:c,isInvalid:h,label:r,name:n,type:d})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{htmlFor:"basic-url",children:[r,"  ",(0,t.jsx)(s.Z,{errors:u,touched:m})]}),(0,t.jsx)(i.Z,{className:"mb-3",children:(0,t.jsx)(a.Z,{placeholder:r,"aria-label":r,"aria-describedby":r,onChange:o,onBlur:l,value:c,isInvalid:h,label:r,name:n,type:d})})]})})}},95693:function(e,n,r){r.d(n,{Z:function(){return o}});var i=r(29439),a=(r(72791),r(65151)),s=r(22247),t=r(80184),o=function(e){var n=function(e,n){return n?e&&n?["fa-times-circle-o input-invalid",e]:!e&&n?["fa-check-circle-o input-valid",s.Z.t("valid-field")]:void 0:[]}(e.errors,e.touched),r=(0,i.Z)(n,2),o=r[0],l=r[1];return(0,t.jsx)(a.ZP,{title:Array.isArray(l)?l.map((function(e){return(0,t.jsxs)("span",{className:"tooltip-message",children:[e," ",(0,t.jsx)("br",{})]})})):(0,t.jsxs)("span",{className:"tooltip-message",children:[l," ",(0,t.jsx)("br",{})]}),placement:"right",children:(0,t.jsx)("span",{children:(0,t.jsx)("i",{className:"fa "+o})})})}},82011:function(e,n,r){r.r(n);var i=r(29439),a=r(72791),s=r(43360),t=r(74569),o=r.n(t),l=r(17451),c=r(2002),d=r(63081),h=r.n(d),u=r(92746),m=r(98472),p=r(78417),x=r(36161),g=r(21461),j=r(80184),f=r(24245)(),v={parentClassName:"parent-expand-foo",renderer:function(e,n){return(0,j.jsxs)("div",{children:[(0,j.jsxs)("p",{children:[(0,j.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ","DIGITAL LINK URI ","     :"," "]})," ",e.DL," "]}),(0,j.jsxs)("p",{children:["    ",(0,j.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ","prix :"," "," "]})," ",e.colis.price," (TND) "]}),(0,j.jsxs)("p",{children:["Description produit: ",e.colis.designation]})]})},onlyOneExpanding:!0},Z=[{dataField:"colis.name_complete",text:"Nom client"},{dataField:"colis.address",text:"address",style:{textAlign:"center"},formatter:function(e,n){return(0,j.jsxs)("div",{children:["".concat(n.colis.gouvernorat," ")," ",(0,j.jsx)("br",{})," ","".concat(n.colis.address)]})}},{dataField:"colis.phone_number",text:"Phone"},{dataField:"colis.type_envoi",text:"action",style:{textAlign:"center"},formatter:function(e,n,r,i){return(0,j.jsxs)("div",{children:[(0,j.jsx)(p.Z,{to:"/history/colis/"+n.colis.id,children:(0,j.jsxs)(s.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,j.jsx)("span",{className:"fa fa-file"})]})}),(0,j.jsx)(g.Z,{colis:n.colis})]})}}];n.default=function(){var e=(0,a.useState)([]),n=(0,i.Z)(e,2),r=n[0],t=n[1];return(0,a.useEffect)((function(){var e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};o().get(f+"/archive/admin/retour_provider?current_page=1&per_page=1000",e).then((function(e){return e.data})).then((function(e){0!==e.data.length?t(e.data.data):t([]),console.log("data her",e)})).catch((function(){console.log("e")}))}),[]),(0,j.jsx)(a.Fragment,{children:(0,j.jsx)(l.Z,{className:"card-box mb-4",children:(0,j.jsx)(h(),{children:(0,j.jsx)("div",{className:"app-row",children:(0,j.jsxs)("div",{className:"app-col-xs-12 app-col-md-12",children:[(0,j.jsx)(c.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",expandRow:v,bootstrap4:!0,keyField:"id",data:r,columns:Z,pagination:(0,x.ZP)({sizePerPage:25,sizePerPageList:[5,10,15,20,25]}),filter:(0,u.ZP)(),headerClasses:"table thead-light mb-0"}),(0,j.jsx)(m.CSVLink,{data:r,children:(0,j.jsx)(s.Z,{color:"primary",variant:"contained",children:"download csv"})})]})})})})})}},21461:function(e,n,r){var i=r(29439),a=r(72791),s=r(89743),t=r(2677),o=r(78695),l=r(99410),c=r(74292),d=r(43360),h=r(38780),u=r(55705),m=r(76863),p=r(42464),x=r(95693),g=r(74387),j=r(74569),f=r.n(j),v=r(80184),Z=r(24245)(),y=m.Ry().shape({email:m.Z_().email("Invalid Email").required("Email is Required"),phone_number:m.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").required("Phone is Required"),city:m.Z_().min(2,"City is Too Short!").max(20,"City is Too Long!").required("City is Required"),description:m.Z_().min(2,"description is Too Short!").max(20,"description is Too Long!").required("description is Required"),name:m.Z_().min(2,"name is Too Short!").max(20,"name is Too Long!").required("name is Required"),code:m.Z_().min(2,"code is Too Short!").max(20,"code is Too Long!").required("code is Required")});n.Z=function(e){var n=this,r=(0,a.useState)(!1),m=(0,i.Z)(r,2),j=m[0],b=m[1],C=function(){return b(!1)};(0,a.useEffect)((function(){}),[]);var N=function(n){var r=n.values,i=n.errors,a=n.touched,h=n.handleChange,u=(n.handleSubmit,n.handleBlur),m=(n.setFieldValue,n.isSubmitting,n.dirty,n.isValid,n.handleReset);return(0,v.jsx)(g.Z,{children:(0,v.jsx)(s.Z,{children:(0,v.jsx)(t.Z,{children:(0,v.jsxs)(o.Z,{children:[(0,v.jsx)(o.Z.Header,{children:(0,v.jsx)(o.Z.Title,{as:"h5",children:"Ajouter  demande pour modifier colis"})}),(0,v.jsxs)(o.Z.Body,{children:[(0,v.jsxs)(s.Z,{children:[(0,v.jsxs)(t.Z,{md:12,children:[(0,v.jsx)(l.Z,{className:"mb-3",children:(0,v.jsxs)(c.Z,{as:"select",id:"type",custom:!0,onChange:h,onBlur:u,value:r.type,children:[(0,v.jsx)("option",{children:"choisir Type de demande"}),["Change Prix","Change date livraison","changer addresse","changer N. de t\xe9l\xe9phone","changer mode de payement","changer type d'envoi"].map((function(e,n){return(0,v.jsx)("option",{value:e,children:e},e)}))]})}),(0,v.jsx)("label",{htmlFor:"basic-url",children:"Priorit\xe9"}),(0,v.jsx)(l.Z,{className:"mb-3",children:(0,v.jsxs)(c.Z,{as:"select",id:"priority",custom:!0,onChange:h,onBlur:u,children:[(0,v.jsx)("option",{children:"choose priorit\xe9"}),[{name:"Haute",value:"2"},{name:"moyenne",value:"1"},{name:"failbe",value:"0"}].map((function(e,n){return(0,v.jsx)("option",{value:e.value,children:e.name},e.name)}))]})}),(0,v.jsx)(p.Z,{name:"message",label:"message",onChange:h,onBlur:u,value:r.message,errors:i.message,touched:a.message,type:"message"}),"Change Prix"===r.type&&(0,v.jsx)(p.Z,{name:"price",label:"prix",onChange:h,onBlur:u,value:r.price,errors:i.price,touched:a.price}),"changer addresse"===r.type&&(0,v.jsx)(p.Z,{name:"city",label:"city",onChange:h,onBlur:u,value:r.city,errors:i.city,touched:a.city,type:"message"}),"changer addresse"===r.type&&(0,v.jsx)(p.Z,{name:"gouvernorat",label:"gouvernorat",onChange:h,onBlur:u,value:r.gouvernorat,errors:i.gouvernorat,touched:a.gouvernorat}),"changer addresse"===r.type&&(0,v.jsx)(p.Z,{name:"address",label:"address",onChange:h,onBlur:u,value:r.address,errors:i.address,touched:a.address}),"changer N. de t\xe9l\xe9phone"===r.type&&(0,v.jsx)(p.Z,{name:"phone_number",label:"N. de t\xe9l\xe9phone",onChange:h,onBlur:u,value:r.phone_number,errors:i.phone_number,touched:a.phone_number}),"changer type d'envoi"===r.type&&(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{htmlFor:"basic-url",children:["type_envoi ",(0,v.jsx)(x.Z,{errors:i.type_envoi,touched:a.type_envoi})]}),(0,v.jsx)(l.Z,{className:"mb-3",children:(0,v.jsxs)(c.Z,{as:"select",id:"type_envoi",custom:!0,onChange:h,onBlur:u,value:r.type_envoi,children:[(0,v.jsx)("option",{children:"type envoi"}),["LIVRAISON A DOMICILE","ECHANGE","RECUPERATION"].map((function(e,n){return(0,v.jsx)("option",{value:e,children:e},e)}))]})})]})]}),(0,v.jsx)(t.Z,{md:6})]}),(0,v.jsx)(d.Z,{onClick:function(){!function(n){console.log(e.colis.id),console.log(n),console.log(e.colis.id);var r={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};f().post(Z+"/ticket/add",{message:n.message,colis:e.colis.id,type:n.type,priority:n.priority,value:{price:n.price,city:n.city,gouvernorat:n.gouvernorat,address:n.address,type_envoi:n.type_envoi,payment_mode:n.payment_mode}},r).then((function(e){alert("add Succefull"),console.log(e.data),C()})).catch((function(e){console.log(e)}))}(r),m()},children:"Envoyer demande"})]})]})})})})};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(d.Z,{variant:"secondary",onClick:function(){return b(!0)},children:[" ",(0,v.jsx)("span",{className:"fa fa-ticket"})]}),(0,v.jsxs)(h.Z,{show:j,onHide:C,children:[(0,v.jsx)(h.Z.Header,{closeButton:!0,children:(0,v.jsx)(h.Z.Title,{children:" "})}),(0,v.jsx)(h.Z.Body,{children:(0,v.jsx)(u.J9,{initialValues:{message:"",price:e.colis.price,city:e.colis.city,address:e.colis.address,gouvernorat:e.colis.gouvernorat,type_envoi:e.colis.type_envoi,payment_mode:e.colis.payment_mode,phone_number:e.colis.phone_number},onSubmit:function(e,r){var i=r.setSubmitting;n.submitForm(e),i(!1)},validationSchema:y,children:function(e){return N(e)}})}),(0,v.jsx)(h.Z.Footer,{children:(0,v.jsx)(d.Z,{variant:"secondary",onClick:C,children:"Fermer"})})]})]})}},73193:function(e,n,r){var i,a=r(87462),s=r(63366),t=r(60654),o=r.n(t),l=r(85814),c=r(72791),d=r(32834),h=r(71380),u=r(82777),m=r(67202),p=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],x={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function g(e,n){var r=n["offset"+e[0].toUpperCase()+e.slice(1)],i=x[e];return r+parseInt((0,l.Z)(n,i[0]),10)+parseInt((0,l.Z)(n,i[1]),10)}var j=((i={})[d.Wj]="collapse",i[d.Ix]="collapsing",i[d.d0]="collapsing",i[d.cn]="collapse show",i),f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:g},v=c.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,t=e.onEntered,l=e.onExit,x=e.onExiting,f=e.className,v=e.children,Z=e.dimension,y=void 0===Z?"height":Z,b=e.getDimensionValue,C=void 0===b?g:b,N=(0,s.Z)(e,p),_="function"===typeof y?y():y,E=(0,c.useMemo)((function(){return(0,u.Z)((function(e){e.style[_]="0"}),r)}),[_,r]),I=(0,c.useMemo)((function(){return(0,u.Z)((function(e){var n="scroll"+_[0].toUpperCase()+_.slice(1);e.style[_]=e[n]+"px"}),i)}),[_,i]),k=(0,c.useMemo)((function(){return(0,u.Z)((function(e){e.style[_]=null}),t)}),[_,t]),R=(0,c.useMemo)((function(){return(0,u.Z)((function(e){e.style[_]=C(_,e)+"px",(0,m.Z)(e)}),l)}),[l,C,_]),w=(0,c.useMemo)((function(){return(0,u.Z)((function(e){e.style[_]=null}),x)}),[_,x]);return c.createElement(d.ZP,(0,a.Z)({ref:n,addEndListener:h.Z},N,{"aria-expanded":N.role?N.in:null,onEnter:E,onEntering:I,onEntered:k,onExit:R,onExiting:w}),(function(e,n){return c.cloneElement(v,(0,a.Z)({},n,{className:o()(f,v.props.className,j[e],"width"===_&&"width")}))}))}));v.defaultProps=f,n.Z=v}}]);
//# sourceMappingURL=2011.3a3979f9.chunk.js.map