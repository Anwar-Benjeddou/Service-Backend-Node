"use strict";(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[1262],{94617:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var i=t(93433),r=t(29439),o=t(72791),s=t(43360),a=t(74569),c=t.n(a),l=t(17451),d=t(84731),u=t(2002),p=t(63081),f=t.n(p),h=t(92746),x=t(98472),m=t(78417),v=t(36161),j=t(21461),g=t(50054),Z=t(23085),k=t(38780),y=t(30456),b=t(15671),C=t(43144),S=t(60136),T=t(29388),A=t(89743),N=t(2677),_=(t(72024),t(33237),t(61146)),w=t.n(_),F=t(84763),I=t.n(F),P=t(80184),R=function(e){(0,S.Z)(t,e);var n=(0,T.Z)(t);function t(e){var i;return(0,b.Z)(this,t),(i=n.call(this,e)).state={checkbox:!1,dropdownValue:"fa"},i}return(0,C.Z)(t,[{key:"changeDropdown",value:function(e){this.setState({dropdownValue:e.target.value})}},{key:"render",value:function(){return(0,P.jsx)("div",{style:{paddingTop:30,paddingLeft:15},children:(0,P.jsx)(A.Z,{children:this.props.Template.map((function(e){return(0,P.jsx)(N.Z,{xs:4,children:(0,P.jsxs)("div",{style:{paddingTop:30,paddingLeft:15},children:[(0,P.jsxs)("p",{children:["  ",e.id]}),(0,P.jsx)("div",{children:(0,P.jsx)(I(),{value:e.colis.index_colis})}),(0,P.jsxs)("p",{children:[" code colis :  ",e.colis.index_colis]}),(0,P.jsxs)("p",{children:[" address :  ",e.colis.address]}),(0,P.jsxs)("p",{children:[" Telph :  ",e.colis.phone_number]})]})})}))})})}}]),t}(o.Component),z=function(e){(0,S.Z)(t,e);var n=(0,T.Z)(t);function t(){return(0,b.Z)(this,t),n.apply(this,arguments)}return(0,C.Z)(t,[{key:"render",value:function(){var e=this;return(0,P.jsxs)("div",{style:{alignContent:"center",alignItems:"center"},children:[(0,P.jsx)(w(),{trigger:function(){return(0,P.jsxs)("button",{className:"btn btn-primary",children:[(0,P.jsx)("span",{className:"fa fa-print"}),"Impression "]})},content:function(){return e.componentRef}}),(0,P.jsx)(R,{ref:function(n){return e.componentRef=n},Template:this.props.Template,providerinfo:this.props.providerinfo})]})}}]),t}(o.Component),E=z;var L=function(e){var n=(0,o.useState)(!1),t=(0,r.Z)(n,2),i=t[0],a=t[1],c=(0,o.useState)({}),l=(0,r.Z)(c,2),d=l[0],u=l[1];(0,o.useEffect)((function(){u((0,y.Z)(localStorage.getItem("token")))}),[]);var p=function(){return a(!1)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(s.Z,{variant:"success",onClick:function(){return a(!0)},children:[" ",(0,P.jsx)("span",{className:"fa fa-print"})," Imprimer QRCodes"]}),(0,P.jsxs)(k.Z,{size:"xl",show:i,onHide:p,children:[(0,P.jsx)(k.Z.Header,{closeButton:!0,children:(0,P.jsx)(k.Z.Title,{children:"   "})}),(0,P.jsx)(k.Z.Body,{children:(0,P.jsx)("div",{className:"center",children:(0,P.jsx)(E,{Template:e.Template,providerinfo:d})})}),(0,P.jsx)(k.Z.Footer,{children:(0,P.jsx)(s.Z,{variant:"secondary",onClick:p,children:"Close"})})]})]})},B=t(30337),D=(t(58988),t(22247)),H=t(24245)();var V=function(){var e=(0,o.useState)([]),n=(0,r.Z)(e,2),t=n[0],a=n[1],p=(0,o.useState)([]),k=(0,r.Z)(p,2),b=k[0],C=k[1],S=(0,o.useState)([]),T=(0,r.Z)(S,2),A=T[0],N=T[1],_=(0,o.useState)([]),w=(0,r.Z)(_,2),F=w[0],I=w[1];(0,o.useEffect)((function(){R()}),[]);var R=function(){var e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},n=H+"/provider/pickup/pending?current_page=1&per_page=1000";c().get(n,e).then((function(e){return e.data})).then((function(e){0!==e.data.length?a(e.data.data):a([])})).catch((function(){console.log("e")}));var t=(0,y.Z)(localStorage.getItem("token")).id;c().get(H+"/provider/info/"+t,e).then((function(e){I(e.data),console.log("Response.data",e.data)})).catch((function(){console.log("he")}))},z=function(e){(0,B._1)({title:"Annuler livraison",message:"confirmer la suppression d\xe9finitive?",buttons:[{label:"Oui",onClick:function(){c().put(H+"/delete/pickup/"+e).then((function(e){console.log(e),R()})).catch((function(e){console.log(e)}))}},{label:"Non",onClick:null}]})},E={parentClassName:"parent-expand-foo",renderer:function(e,n){var t;return(0,P.jsxs)("div",{children:[(0,P.jsxs)("p",{children:["    ",(0,P.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ","prix :"," "," "]})," ",e.colis.price," (TND) "]}),(0,P.jsxs)("p",{children:[(0,P.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ","Mode de paiment ","     :"," "]})," ",null===(t=e.colis)||void 0===t?void 0:t.payment_mode," "]}),(0,P.jsxs)("p",{children:["Description produit: ",e.colis.designation]})]})},onlyOneExpanding:!0},V=[{dataField:"colis.index_colis",text:D.Z.t("package-number")},{dataField:"colis.name_complete",text:D.Z.t("client-name")},{dataField:"colis.id",text:D.Z.t("edit-information"),style:{textAlign:"center"},formatter:function(e,n,t,i){return(0,P.jsx)("div",{children:(0,P.jsx)(d.Z,{colismodifier:null===n||void 0===n?void 0:n.colis,reloaddata:function(){return R()},children:" "})})}},{dataField:"colis.id",text:D.Z.t("print"),style:{textAlign:"center"},formatter:function(e,n,t,i){return(0,P.jsx)("div",{children:(0,P.jsx)(g.Z,{Template:n,providerinfo:F,children:" "})})}},{dataField:"colis.type_envoi",text:D.Z.t("add-order"),style:{textAlign:"center"},formatter:function(e,n,t,i){return(0,P.jsx)("div",{children:(0,P.jsx)(j.Z,{colis:n.colis})})}},{dataField:"colis.type_envoi",text:D.Z.t("history"),style:{textAlign:"center"},formatter:function(e,n,t,i){return(0,P.jsx)("div",{children:(0,P.jsx)(m.Z,{to:"/history/colis/provider/"+n.colis.id,children:(0,P.jsxs)(s.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,P.jsx)("span",{className:"fa fa-file"})]})})})}},{dataField:"colis.type_envoi",text:D.Z.t("cancel-name"),style:{textAlign:"center"},formatter:function(e,n,t,i){return(0,P.jsx)("div",{children:(0,P.jsxs)(s.Z,{variant:"danger",onClick:function(){return z(n.id)},children:[" ",(0,P.jsx)("span",{className:"fa fa-trash"})]})})}}];(0,o.useEffect)((function(){var e=t.filter((function(e){var n=e.id;return b.includes(n)}));N(e)}),[b]);var O={mode:"checkbox",clickToSelect:!0,style:{background:"#c8e6c9"},onSelect:function(e,n,t){C(n?function(n){return[].concat((0,i.Z)(n),[e.id])}:function(n){return n.filter((function(n){return n!==e.id}))})},onSelectAll:function(e,n){N(e?n:[])}};return(0,P.jsx)(l.Z,{className:"card-box mb-8",children:(0,P.jsx)(f(),{children:(0,P.jsx)("div",{className:"app-row",children:(0,P.jsxs)("div",{className:"app-col-xs-12 app-col-md-12",children:[A.length>0&&(0,P.jsx)(Z.Z,{Template:A}),A.length>0&&(0,P.jsx)(L,{Template:A}),(0,P.jsx)(u.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",expandRow:E,bootstrap4:!0,keyField:"id",data:t,columns:V,selectRow:O,pagination:(0,v.ZP)({sizePerPage:25,sizePerPageList:[5,10,15,20,25]}),filter:(0,h.ZP)(),headerClasses:"table thead-light mb-0"}),(0,P.jsx)(x.CSVLink,{data:t,children:(0,P.jsx)(s.Z,{color:"primary",variant:"contained"})})]})})})})}}}]);
//# sourceMappingURL=1262.9aaf193e.chunk.js.map