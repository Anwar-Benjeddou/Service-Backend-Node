"use strict";(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[9523],{627:function(e,a,r){r.d(a,{Z:function(){return o}});var s=r(29439),n=r(72791),t=r(38122),i=r(80184);function o(e){var a=(0,n.useState)(e.showit),r=(0,s.Z)(a,2),o=r[0],l=r[1];return(0,n.useEffect)((function(){console.log("show message Modal value:",o)}),[o]),(0,i.jsx)(t.Z,{color:e.design,isOpen:o,toggle:function(){return l(!1)},children:(0,i.jsx)("p",{children:e.message})})}},42464:function(e,a,r){r(72791);var s=r(99410),n=r(74292),t=r(95693),i=r(80184);a.Z=function(e){var a=e.name,r=e.label,o=e.onChange,l=e.onBlur,c=e.value,d=e.type,u=e.isInvalid,m=e.errors,h=e.touched;return(0,i.jsx)(i.Fragment,{children:"Phone"===r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{htmlFor:"basic-url",children:[a," ",(0,i.jsx)(t.Z,{errors:m,touched:h})]}),(0,i.jsxs)(s.Z,{className:"mb-3",children:[(0,i.jsx)(s.Z.Prepend,{children:(0,i.jsx)(s.Z.Text,{id:"basic-addon1",children:"+216"})}),(0,i.jsx)(n.Z,{placeholder:r,"aria-label":a,"aria-describedby":a,onChange:o,onBlur:l,value:c,isInvalid:u,label:r,name:a,type:d})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{htmlFor:"basic-url",children:[r,"  ",(0,i.jsx)(t.Z,{errors:m,touched:h})]}),(0,i.jsx)(s.Z,{className:"mb-3",children:(0,i.jsx)(n.Z,{placeholder:r,"aria-label":r,"aria-describedby":r,onChange:o,onBlur:l,value:c,isInvalid:u,label:r,name:a,type:d})})]})})}},95693:function(e,a,r){r.d(a,{Z:function(){return o}});var s=r(29439),n=(r(72791),r(65151)),t=r(22247),i=r(80184),o=function(e){var a=function(e,a){return a?e&&a?["fa-times-circle-o input-invalid",e]:!e&&a?["fa-check-circle-o input-valid",t.Z.t("valid-field")]:void 0:[]}(e.errors,e.touched),r=(0,s.Z)(a,2),o=r[0],l=r[1];return(0,i.jsx)(n.ZP,{title:Array.isArray(l)?l.map((function(e){return(0,i.jsxs)("span",{className:"tooltip-message",children:[e," ",(0,i.jsx)("br",{})]})})):(0,i.jsxs)("span",{className:"tooltip-message",children:[l," ",(0,i.jsx)("br",{})]}),placement:"right",children:(0,i.jsx)("span",{children:(0,i.jsx)("i",{className:"fa "+o})})})}},29199:function(e,a,r){r.r(a);var s=r(93433),n=r(15671),t=r(43144),i=r(60136),o=r(29388),l=r(72791),c=r(89743),d=r(2677),u=r(78695),m=r(99410),h=r(74292),p=r(43360),Z=r(55705),g=r(76863),f=r(74569),x=r.n(f),v=r(10475),j=r(74387),b=r(42464),y=r(2002),C=r(12657),w=r(627),S=r(22247),_=r(80184),F=[{dataField:"article",text:S.Z.t("article")},{dataField:"code",text:S.Z.t("code")},{dataField:"priceInitial",text:S.Z.t("initial-price")},{dataField:"poidsInitial",text:S.Z.t("initial-weight")},{dataField:"poidsSupplimentaire",text:S.Z.t("additional-weight")}],k=r(24245)(),B=g.Ry().shape({email:g.Z_().email(S.Z.t("error-email")).required(S.Z.t("error-required-email")),phone_number:g.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,S.Z.t("error-phone-number")).required(S.Z.t("error-required-phone-number")),firstname:g.Z_().min(2,S.Z.t("error-short-first-name")).required(S.Z.t("error-required-first-name")),lastname:g.Z_().min(2,S.Z.t("error-short-last-name")).required(S.Z.t("error-required-last-name")),address:g.Z_().required(S.Z.t("error-address")),username:g.Z_().required(S.Z.t("error-username")),password:g.Z_().required(S.Z.t("error-password")),company:g.Z_().required(S.Z.t("error-company")),code_fiscal:g.Z_().required(S.Z.t("error-code-fiscal"))}),I=function(e){(0,i.Z)(r,e);var a=(0,o.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=a.call.apply(a,[this].concat(i))).state={privileges:[],permissions:[],agences:[],permissionss:[],articles:[],showMessageParams:{display:!1,type:"success",message:null}},e.handleChange=function(a){console.log(a.target.value),e.setState({permissionss:[].concat((0,s.Z)(e.state.permissionss),[a.target.value])})},e.handlSubmit=function(a){e.setState({showMessageParams:{display:!1,type:"success",message:null}}),console.log(e.state.articles),a.permissions=e.state.permissionss,e.state.articles.forEach((function(e){a.articles.push({id:e.id,priceInitial:e.priceInitial,poidsInitial:e.poidsInitial,poidsSupplimentaire:e.poidsSupplimentaire})})),console.log(a);var r={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};x().post(k+"/addProvider",a,r).then((function(a){console.log(a.data),e.props.history.push("/List/provider"),e.setState({showMessageParams:{display:!0,type:"success",message:S.Z.t("success-add-provider")}})})).catch((function(a){console.log(a),e.setState({showMessageParams:{display:!0,type:"danger",message:S.Z.t("error-add-provider")}})}))},e.showForm=function(a){var r=a.values,s=a.errors,n=a.touched,t=a.handleChange,i=(a.handleSubmit,a.handleBlur),o=(a.setFieldValue,a.isSubmitting,a.dirty,a.isValid,a.handleReset,e.state.showMessageParams);return(0,_.jsx)(j.Z,{children:(0,_.jsx)(c.Z,{children:(0,_.jsx)(d.Z,{children:(0,_.jsxs)(u.Z,{children:[(0,_.jsx)(u.Z.Header,{children:(0,_.jsx)(u.Z.Title,{as:"h5",children:S.Z.t("add-provider")})}),(0,_.jsxs)(u.Z.Body,{children:[1==o.display?(0,_.jsx)(w.Z,{message:o.message,design:o.type,showit:o.display}):null,(0,_.jsxs)(c.Z,{children:[(0,_.jsxs)(d.Z,{md:6,children:[(0,_.jsx)(b.Z,{name:"firstname",onChange:t,onBlur:i,value:r.firstname,errors:s.firstname,touched:n.firstname,label:S.Z.t("first-name")}),(0,_.jsx)(b.Z,{name:"lastname",label:S.Z.t("last-name"),onChange:t,onBlur:i,value:r.lastname,errors:s.lastname,touched:n.lastname}),(0,_.jsx)(b.Z,{name:"username",label:S.Z.t("username"),onChange:t,onBlur:i,value:r.username,errors:s.username,touched:n.username}),(0,_.jsx)(b.Z,{name:"password",label:S.Z.t("password"),onChange:t,onBlur:i,value:r.password,errors:s.password,touched:n.password,type:"password"}),(0,_.jsx)(b.Z,{name:"email",label:S.Z.t("email"),onChange:t,onBlur:i,value:r.email,errors:s.email,touched:n.email}),(0,_.jsx)(b.Z,{name:"company",label:S.Z.t("company"),onChange:t,onBlur:i,value:r.company,errors:s.company,touched:n.company}),(0,_.jsx)("div",{children:e.state.permissions.map((function(a){return(0,_.jsxs)("div",{children:[(0,_.jsx)(v.Z,{onChange:function(a){return e.handleChange(a)},inputProps:{"aria-label":"primary checkbox"},value:a.id},a.id),"  ",a.name]},a.id)}))})]}),(0,_.jsxs)(d.Z,{md:6,children:[(0,_.jsx)(b.Z,{name:"phone_number",label:S.Z.t("phone-number"),onChange:t,onBlur:i,value:r.phone_number,errors:s.phone_number,touched:n.phone_number}),(0,_.jsx)(b.Z,{name:"address",label:S.Z.t("address"),onChange:t,onBlur:i,value:r.address,errors:s.address,touched:n.address}),(0,_.jsx)("label",{htmlFor:"basic-url",children:S.Z.t("privilege")}),(0,_.jsx)(m.Z,{className:"mb-3",children:(0,_.jsxs)(h.Z,{as:"select",id:"privilege",custom:!0,onChange:t,onBlur:i,value:r.Formateur,children:[(0,_.jsx)("option",{children:S.Z.t("choose-privilege")}),e.state.privileges.map((function(e,a){return(0,_.jsxs)("option",{value:e.id,children:[e.name," : ",e.description]},e.id)}))]})}),(0,_.jsx)("label",{htmlFor:"basic-url",children:S.Z.t("agency")}),(0,_.jsx)(m.Z,{className:"mb-3",children:(0,_.jsxs)(h.Z,{as:"select",id:"agence",custom:!0,onChange:t,onBlur:i,value:r.Formateur,children:[(0,_.jsx)("option",{children:S.Z.t("choose-agency")}),e.state.agences.map((function(e,a){return(0,_.jsxs)("option",{value:e.id,children:[e.name," : ",e.address]},e.id)}))]})}),(0,_.jsx)(b.Z,{name:"code_fiscal",label:S.Z.t("code-fiscal"),onChange:t,onBlur:i,value:r.code_fiscal,errors:s.code_fiscal,touched:n.code_fiscal})]})]}),(0,_.jsx)(y.Z,{keyField:"article",data:e.state.articles,columns:F,cellEdit:(0,C.ZP)({mode:"click"})}),(0,_.jsx)(p.Z,{disabled:Object.keys(s).length>0,onClick:function(){e.handlSubmit(r)},children:S.Z.t("save")})]})]})})})})},e}return(0,t.Z)(r,[{key:"componentDidMount",value:function(){var e=this,a={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},r=x().get(k+"/privileges",a),n=x().get(k+"/agence",a),t=x().get(k+"/permissions",a),i=x().get(k+"/articles",a);x().all([r,n,t,i]).then(x().spread((function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];console.log("this respon list0",r[2].data),console.log("this respon list1",r[1].data),e.setState({privileges:r[0].data.data}),e.setState({agences:r[1].data.data}),e.setState({permissions:r[2].data.data}),r[3].data.data.map((function(a){return e.setState({articles:[].concat((0,s.Z)(e.state.articles),[{id:a.id,code:a.code,article:a.article,priceInitial:0,poidsInitial:0,poidsSupplimentaire:0}])})}))}))).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return(0,_.jsx)(Z.J9,{initialValues:{firstname:"",lastname:"",username:"",password:"",email:"",phone_number:"",address:"",descriminator:"provider",company:"",code_fiscal:"",code_postal:"",articles:[]},onSubmit:function(a,r){var s=r.setSubmitting;e.submitForm(a),s(!1)},validationSchema:B,children:function(a){return e.showForm(a)}})}}]),r}(l.Component);a.default=I},87338:function(e,a,r){var s=r(72791).createContext(null);s.displayName="CardContext",a.Z=s},27472:function(e,a,r){var s=r(87462),n=r(72791),t=r(60654),i=r.n(t);a.Z=function(e){return n.forwardRef((function(a,r){return n.createElement("div",(0,s.Z)({},a,{ref:r,className:i()(a.className,e)}))}))}}}]);
//# sourceMappingURL=9523.b07b7f2c.chunk.js.map