"use strict";(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[6857],{66857:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var o=n(15861),r=n(15671),a=n(43144),s=n(60136),l=n(29388),i=n(87757),c=n.n(i),d=n(72791),u=n(89743),x=n(2677),m=n(78695),h=n(74387),p=n(1413),f=n(29439),g=n(74569),y=n.n(g),v=n(77101),Z=n(59151),j=n(3637),b=n(2002),C=n(36161),P=n(44115),S=n(80184),A=n(24245)();var D=function(e){var t=(0,d.useState)("Choose Driver"),n=(0,f.Z)(t,2),r=n[0],a=n[1],s=(0,d.useState)([]),l=(0,f.Z)(s,2),i=l[0],m=l[1],h=(0,d.useState)(0),g=(0,f.Z)(h,2),D=g[0],F=(g[1],(0,d.useState)("")),z=(0,f.Z)(F,2),k=z[0],_=z[1],w=(0,d.useState)(0),N=(0,f.Z)(w,2),B=N[0],T=(N[1],(0,d.useState)([])),E=(0,f.Z)(T,2),I=E[0],L=E[1],K=(0,d.useState)(0),V=(0,f.Z)(K,2),G=V[0],H=V[1],M=(0,d.useState)([]),R=(0,f.Z)(M,2),q=R[0],J=R[1],O=(0,d.useState)(0),Q=(0,f.Z)(O,2),U=Q[0],W=(Q[1],(0,d.useState)([])),X=(0,f.Z)(W,2),Y=X[0],$=(X[1],(0,d.useState)(0)),ee=(0,f.Z)($,2),te=ee[0],ne=(ee[1],(0,d.useState)("")),oe=(0,f.Z)(ne,2),re=oe[0],ae=oe[1],se=(0,d.useState)(""),le=(0,f.Z)(se,2),ie=le[0],ce=le[1],de=(0,d.useState)([]),ue=(0,f.Z)(de,2),xe=ue[0],me=ue[1],he=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(r),alert(ie),alert(re),y().get(A+"/statistics/driver/delivery?id="+r+"&startDate="+re+"&endDate="+ie).then((function(e){L(e.data.data),H(e.data.total_delivery)})).catch((function(e){console.log(e)})),console.log("/statistics/driver/enlevement?id="+r+"&startDate="+re+"&endDate="+ie),y().get(A+"/statistics/driver/enlevement?id="+r+"&startDate="+re+"&endDate="+ie).then((function(e){J(e.data.data),console.log(e.data)})).catch((function(e){console.log(e)})),y().get(A+"/statistic/anomaly/driver?id="+r+"&startDate="+re+"&endDate="+ie).then((function(e){m(e.data.data),console.log(e.data)})).catch((function(e){console.log(e)})),y().get(A+"/statistic/driver/anomaly/dominate?id="+r+"&startDate="+re+"&endDate="+ie).then((function(e){_(e.data.dominateAnomaly),console.log("dominateAnomaly",e.data)})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){}),[D,G,U,te]);var pe=function(){var e=(0,o.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},e.next=3,y().get(A+"/driver",t);case 3:n=e.sent,me(n.data.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){pe()}),[]);var fe=function(e){return(0,S.jsx)("div",{children:(0,S.jsx)("button",{className:"btn btn-primary float-left",onClick:function(){e.onExport()},children:"Export to CSV"})})};return(0,S.jsxs)(u.Z,{children:[(0,S.jsx)(x.Z,{sm:12,children:(0,S.jsxs)(u.Z,{children:[(0,S.jsxs)(x.Z,{sm:6,children:[(0,S.jsx)("label",{style:{marginBottom:"15px",color:"#000000"},children:" From :"}),(0,S.jsx)(v.Z.Group,{controlId:"duedate",children:(0,S.jsx)(v.Z.Control,{type:"date",name:"duedate",placeholder:"Due date",value:re,onChange:function(e){return ae(e.target.value),void console.log(re)}})})]}),(0,S.jsxs)(x.Z,{sm:6,children:[(0,S.jsx)("label",{style:{marginBottom:"15px",color:"#000000"},children:" to :"}),(0,S.jsx)(v.Z.Group,{controlId:"duedate",children:(0,S.jsx)(v.Z.Control,{type:"date",name:"duedate",placeholder:"Due date",value:ie,onChange:function(e){return ce(e.target.value),void console.log(ie)}})})]}),(0,S.jsx)(x.Z,{sm:4}),(0,S.jsx)(x.Z,{sm:12,children:(0,S.jsxs)("select",{className:"browser-default",style:{marginRight:"10px",marginLeft:"5px",width:"90%",height:"40px"},placeholder:"Driver",value:r,onChange:function(e){return a(e.target.value),void console.log(r)},children:[(0,S.jsx)("option",{children:"choisir  Livreur"}),xe.map((function(e,t){return(0,S.jsx)("option",{value:e.id,children:e.username},t)}))]})}),(0,S.jsx)("button",{class:"btn-pill btn btn-primary",style:{height:"40px"},onClick:function(){return he()},children:"Searchcc"})]})}),(0,S.jsx)(x.Z,{sm:12,children:(0,S.jsxs)(Z.Z,{defaultActiveKey:"contact",style:{marginTop:"20px"},children:[(0,S.jsxs)(j.Z,{eventKey:"contact",title:"Delivery list",children:[(0,S.jsx)(P.ZP,{variant:"primary",keyField:"id",data:I,columns:[{sort:!0,dataField:"colis.colis.index_colis",text:"ID"},{sort:!0,dataField:"colis",text:"Client Name",formatter:function(e,t){return"".concat(t.colis.name_complete)}},{sort:!0,dataField:"colis",text:"Client Phone Number",style:{textAlign:"center"},formatter:function(e,t){return"".concat(t.colis.phone_number)}},{sort:!0,dataField:"colis",text:"Client Address",style:{textAlign:"center"},formatter:function(e,t){return"".concat(t.colis.address)}},{sort:!0,dataField:"code",text:"Code"}],exportCSV:!0,children:function(e){return(0,S.jsxs)("div",{children:[(0,S.jsx)(fe,(0,p.Z)({},e.csvProps)),(0,S.jsx)(b.Z,(0,p.Z)((0,p.Z)({},e.baseProps),{},{striped:!0,bordered:!0,hover:!0,bootstrap4:!0,headerClasses:"table thead-light mb-0",pagination:(0,C.ZP)({sizePerPage:5,sizePerPageList:[5,10,15,20,25]})}))]})}}),(0,S.jsx)("label",{style:{fontSize:"20px",marginBottom:"15px",color:"#000000"},children:" Total Delivery :"}),"  ",(0,S.jsx)("text",{style:{fontSize:"20px",color:"red"},children:G})]}),(0,S.jsxs)(j.Z,{eventKey:"contact1",title:"Enlevement list",children:[(0,S.jsx)(P.ZP,{variant:"primary",keyField:"id",data:q,columns:[{sort:!0,dataField:"colis.index_colis",text:"ID"},{sort:!0,dataField:"colis",text:"Client Name",formatter:function(e,t){return"".concat(t.colis.name_complete)}},{sort:!0,dataField:"colis",text:"Client Phone Number",style:{textAlign:"center"},formatter:function(e,t){return"".concat(t.colis.phone_number)}},{sort:!0,dataField:"colis",text:"Client Address",style:{textAlign:"center"},formatter:function(e,t){return"".concat(t.colis.address)}},{sort:!0,dataField:"code",text:"Code"}],exportCSV:!0,children:function(e){return(0,S.jsxs)("div",{children:[(0,S.jsx)(fe,(0,p.Z)({},e.csvProps)),(0,S.jsx)(b.Z,(0,p.Z)((0,p.Z)({},e.baseProps),{},{striped:!0,bordered:!0,hover:!0,bootstrap4:!0,headerClasses:"table thead-light mb-0",pagination:(0,C.ZP)({sizePerPage:5,sizePerPageList:[5,10,15,20,25]})}))]})}}),(0,S.jsx)("label",{style:{fontSize:"20px",marginBottom:"15px",color:"#000000"},children:" Total Enlevement :"}),"  ",(0,S.jsx)("text",{style:{fontSize:"20px",color:"red"},children:U})]}),(0,S.jsxs)(j.Z,{eventKey:"home",title:"Anomaly List",children:[(0,S.jsx)(P.ZP,{variant:"primary",keyField:"id",data:i,columns:[{sort:!0,dataField:"colis.colis.index_colis",text:"ID"},{sort:!0,dataField:"colis",text:"Client Name",formatter:function(e,t){return"".concat(t.colis.name_complete)}},{sort:!0,dataField:"colis",text:"Client Phone Number",style:{textAlign:"center"},formatter:function(e,t){return"".concat(t.colis.phone_number)}},{sort:!0,dataField:"colis",text:"Client Address",style:{textAlign:"center"},formatter:function(e,t){return"".concat(t.colis.address)}},{sort:!0,dataField:"anomaly",text:"Anomaly Message",formatter:function(e,t){return"".concat(t.anomaly.message)}}],exportCSV:!0,children:function(e){return(0,S.jsxs)("div",{children:[(0,S.jsx)(fe,(0,p.Z)({},e.csvProps)),(0,S.jsx)(b.Z,(0,p.Z)((0,p.Z)({},e.baseProps),{},{striped:!0,bordered:!0,hover:!0,bootstrap4:!0,headerClasses:"table thead-light mb-0",pagination:(0,C.ZP)({sizePerPage:5,sizePerPageList:[5,10,15,20,25]})}))]})}}),(0,S.jsx)("label",{style:{fontSize:"20px",marginBottom:"15px",color:"#000000"},children:" Total Anomaly :"}),"  ",(0,S.jsx)("text",{style:{fontSize:"20px",color:"red"},children:i.length})]}),(0,S.jsx)(j.Z,{eventKey:"profile",title:"Anomaly Dominate ",children:(0,S.jsxs)("div",{style:{textAlign:"center"},children:[(0,S.jsx)("label",{style:{fontSize:"20px",marginBottom:"15px",color:"#000000"},children:" Anomaly Dominate :"}),"  ",(0,S.jsxs)("text",{style:{fontSize:"20px",color:"red"},children:['"',k,'"']}),(0,S.jsx)("br",{}),(0,S.jsx)("label",{style:{fontSize:"20px",marginBottom:"15px",color:"#000000"},children:" Total Anomaly Dominate:"}),"  ",(0,S.jsx)("text",{style:{fontSize:"20px",color:"red"},children:B})]})}),(0,S.jsxs)(j.Z,{eventKey:"contact2",title:"Transfert list",children:[(0,S.jsx)(P.ZP,{variant:"primary",keyField:"id",data:Y,columns:[{sort:!0,dataField:"colis.colis.index_colis",text:"ID"},{sort:!0,dataField:"colis",text:"Client Name",formatter:function(e,t){return"".concat(t.colis.name_complete)}},{sort:!0,dataField:"colis",text:"Client Phone Number",style:{textAlign:"center"},formatter:function(e,t){return"".concat(t.colis.phone_number)}},{sort:!0,dataField:"colis",text:"Client Address",style:{textAlign:"center"},formatter:function(e,t){return"".concat(t.colis.address)}},{sort:!0,dataField:"code",text:"Code"}],exportCSV:!0,children:function(e){return(0,S.jsxs)("div",{children:[(0,S.jsx)(fe,(0,p.Z)({},e.csvProps)),(0,S.jsx)(b.Z,(0,p.Z)((0,p.Z)({},e.baseProps),{},{striped:!0,bordered:!0,hover:!0,bootstrap4:!0,headerClasses:"table thead-light mb-0",pagination:(0,C.ZP)({sizePerPage:5,sizePerPageList:[5,10,15,20,25]})}))]})}}),(0,S.jsx)("label",{style:{fontSize:"20px",marginBottom:"15px",color:"#000000"},children:" Total Transfert :"}),"  ",(0,S.jsx)("text",{style:{fontSize:"20px",color:"red"},children:te})]})]})})]})},F=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).getData=function(e,t,n,r){o.setState({totalAnomaly:e,totalDelivery:t,totalEnlevement:n,totalAnomalyConsole:r},(function(){console.log("data2",o.state.totalAnomaly,o.state.totalDelivery,o.state.totalEnlevement,o.state.totalAnomalyConsole)}))},o.state={getList:[],selectedProduct:"",isloaded:!1,limit:20,offset:0,perPage:30,orgtableData:[],currentPage:0,totalAnomaly:0,totalDelivery:0,totalEnlevement:0,totalAnomalyConsole:0},o}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return(0,S.jsx)(h.Z,{children:(0,S.jsx)(u.Z,{children:(0,S.jsx)(x.Z,{sm:12,children:(0,S.jsxs)(m.Z,{children:[(0,S.jsx)(m.Z.Header,{children:(0,S.jsx)(m.Z.Title,{as:"h5",children:"Driver "})}),(0,S.jsx)(m.Z.Body,{className:"text-center",children:(0,S.jsx)(D,{getData:this.getData})})]})})})})}}]),n}(d.Component),z=F}}]);
//# sourceMappingURL=6857.6579e4e2.chunk.js.map