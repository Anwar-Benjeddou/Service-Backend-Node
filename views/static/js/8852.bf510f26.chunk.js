"use strict";(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[8852],{14031:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var a=r(15671),n=r(43144),s=r(60136),l=r(29388),c=r(72791),i=r(88749),o=r(41971),d=r(51695),u=r(42953),h=r(74569),x=r.n(h),f=r(89743),v=r(2677),m=r(59151),j=r(3637),p=r(29439),g=r(43360),b=r(38780),Z=r(62591),y=r(74387),N=r(72426),k=r.n(N),A=r(80184),C=r(24245)();var _=function(e){var t=(0,c.useState)([]),r=(0,p.Z)(t,2),a=r[0],n=r[1],s=(0,c.useState)(e.colis),l=(0,p.Z)(s,1)[0];return(0,c.useEffect)((function(){var e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};x()(C+"/anomaly/delivery/colis/"+l,e).then((function(e){var t,r;console.log(null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.data),n(e.data.data.data)})).catch((function(){console.log("e")}))})),(0,A.jsx)(y.Z,{children:(0,A.jsxs)(Z.Z,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{children:[(0,A.jsx)("th",{children:"Date retour"}),(0,A.jsx)("th",{children:"Message Livreur"}),(0,A.jsx)("th",{children:"Note"})]})}),(0,A.jsx)("tbody",{children:a.map((function(e){var t;return(0,A.jsxs)("tr",{children:[(0,A.jsxs)("td",{children:[k()(e.created_at).format("DD-MM-YYYY, HH:mm")," "]}),(0,A.jsx)("td",{children:null===(t=e.anomaly)||void 0===t?void 0:t.message}),(0,A.jsx)("td",{children:e.note})]},e.id)}))})]})})};var w=function(e){var t=(0,c.useState)(!1),r=(0,p.Z)(t,2),a=r[0],n=r[1],s=function(){return n(!1)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(g.Z,{variant:"info",onClick:function(){return n(!0)},children:[" ",(0,A.jsx)("span",{className:"fa fa-eye"})]}),(0,A.jsxs)(b.Z,{show:a,size:"lg",onHide:s,children:[(0,A.jsx)(b.Z.Header,{closeButton:!0,children:(0,A.jsx)(b.Z.Title,{children:"Tentative retour    "})}),(0,A.jsx)(b.Z.Body,{children:(0,A.jsx)(_,{colis:e.colis})}),(0,A.jsx)(b.Z.Footer,{children:(0,A.jsx)(g.Z,{variant:"secondary",onClick:s,children:"Close"})})]})]})},S=r(22247),z=r(24245)(),M=function(e){(0,s.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).state={pendingPackages:[],ongoingPackages:[],enlevePackages:[],drivers:[],driver:""},n}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){var e=this,t={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},r=x().get(z+"/provider/anomaly/delivery?current_page=1&per_page=500",t),a=x().get(z+"/driver",t);x().all([r,a]).then(x().spread((function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e.setState({pendingPackages:r[0].data.data.data}),e.setState({drivers:r[1].data.data}),console.log(r[0].data.data.data)}))).catch((function(e){console.error(e)}))}},{key:"savedriver",value:function(e,t){var r=this,a={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};x().put(z+"/colis/to_retour",{driver:e,colis:[t]},a).then((function(e){alert("add Succefull"),console.log("response.data",e.data),r.componentDidMount(),r.setState({drivers:[]})})).catch((function(e){console.log(e)}))}},{key:"reloaddata",value:function(){this.componentDidMount()}},{key:"changecolor",value:function(e){switch(e){case 0:return"#eeeeca";case 1:case 2:return"#7ce37f";case 3:return"#dcadb1"}}},{key:"render",value:function(){var e=this;return(0,A.jsx)(y.Z,{children:(0,A.jsx)(f.Z,{children:(0,A.jsxs)(v.Z,{children:[(0,A.jsxs)("button",{className:"btn btn-info",onClick:function(){return e.reloaddata()},children:["  ",(0,A.jsx)("span",{className:"fa fa-refresh"})," ",S.Z.t("refresh")]}),(0,A.jsx)("hr",{}),(0,A.jsx)(m.Z,{defaultActiveKey:"home",children:(0,A.jsx)(j.Z,{eventKey:"home",title:"",children:(0,A.jsxs)(i.Z,{className:"card-box mb-4",children:[(0,A.jsxs)("div",{className:"card-header",children:[(0,A.jsx)("div",{className:"card-header--title"}),(0,A.jsx)(o.Z,{className:"card-header--actions",children:(0,A.jsx)(d.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"})})]}),(0,A.jsx)(u.Z,{className:"p-0",children:(0,A.jsx)("div",{className:"table-responsive",children:(0,A.jsxs)("table",{className:"table  table-hover text-nowrap mb-0",children:[(0,A.jsx)("thead",{className:"table thead-light mb-0",children:(0,A.jsxs)("tr",{children:[(0,A.jsx)("th",{children:S.Z.t("package-number")}),(0,A.jsx)("th",{className:"text-center",children:S.Z.t("client-name")}),(0,A.jsx)("th",{className:"text-center",children:S.Z.t("address")}),(0,A.jsx)("th",{className:"text-center",children:S.Z.t("return-date")}),(0,A.jsx)("th",{className:"text-center",children:S.Z.t("action-event")}),(0,A.jsx)("th",{className:"text-center"})]})}),(0,A.jsx)("tbody",{children:this.state.pendingPackages.map((function(e,t){var r,a;return(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:(0,A.jsx)("div",{className:"d-flex align-items-center",children:(0,A.jsxs)("a",{href:"#/",onClick:function(e){return e.preventDefault()},className:"font-weight-bold text-black",title:"...",children:[1===e.check_replanification?(0,A.jsx)("i",{className:"fa fa-circle text-c-red f-10 m-r-15"}):(0,A.jsx)("i",{className:"fa fa-circle text-c-green f-10 m-r-15"}),e.colis.index_colis]})})}),(0,A.jsx)("td",{className:"text-center",children:(0,A.jsxs)("div",{className:"h-auto ",children:[e.colis.name_complete," : ",e.colis.phone_number,(0,A.jsx)("span",{})]})}),(0,A.jsx)("td",{className:"text-center",children:(0,A.jsxs)("div",{className:"h-auto ",children:[e.colis.gouvernorat," :"," "," ",null===(a=e.colis)||void 0===a?void 0:a.city,(0,A.jsx)("br",{}),e.colis.address]})}),(0,A.jsx)("td",{className:"text-center",children:(0,A.jsx)("div",{className:"h-auto ",children:k()(e.colis.created_at).format("DD-MM-YYYY, HH:mm")})}),(0,A.jsx)("td",{children:(0,A.jsx)(w,{colis:e.colis.id,children:" "})}),(0,A.jsx)("td",{}),(0,A.jsx)("td",{className:"text-center",children:(0,A.jsx)(o.Z,{children:(0,A.jsx)(d.Z,{color:"primary",size:"small"})})})]},null===(r=e.colis)||void 0===r?void 0:r.id)}))})]})})})]})})})]})})})}}]),r}(c.Component),D=M},75348:function(e,t,r){var a=r(72791);t.Z=a.createContext(null)},33573:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];function a(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];var n=null;return t.forEach((function(e){if(null==n){var t=e.apply(void 0,r);null!=t&&(n=t)}})),n}return(0,s.default)(a)};var a,n=r(46054),s=(a=n)&&a.__esModule?a:{default:a};e.exports=t.default},46054:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,r,a,n,s,l){var c=n||"<<anonymous>>",i=l||a;if(null==r[a])return t?new Error("Required "+s+" `"+i+"` was not specified in `"+c+"`."):null;for(var o=arguments.length,d=Array(o>6?o-6:0),u=6;u<o;u++)d[u-6]=arguments[u];return e.apply(void 0,[r,a,c,s,i].concat(d))}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r},e.exports=t.default},62591:function(e,t,r){var a=r(87462),n=r(63366),s=r(60654),l=r.n(s),c=r(72791),i=r(10162),o=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],d=c.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,d=e.striped,u=e.bordered,h=e.borderless,x=e.hover,f=e.size,v=e.variant,m=e.responsive,j=(0,n.Z)(e,o),p=(0,i.vE)(r,"table"),g=l()(s,p,v&&p+"-"+v,f&&p+"-"+f,d&&p+"-striped",u&&p+"-bordered",h&&p+"-borderless",x&&p+"-hover"),b=c.createElement("table",(0,a.Z)({},j,{className:g,ref:t}));if(m){var Z=p+"-responsive";return"string"===typeof m&&(Z=Z+"-"+m),c.createElement("div",{className:Z},b)}return b}));t.Z=d}}]);
//# sourceMappingURL=8852.bf510f26.chunk.js.map