{"version":3,"file":"static/js/3430.a8f229ef.chunk.js","mappings":"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","sources":["Routes/Config/config.js","Routes/Facture/logic.js","Routes/Facture/Facture.js"],"sourcesContent":["import avatar from '../../assets/logo.jpeg';\nimport tudex from '../../assets/tudex.png'\nimport twins from '../../assets/twins.jpg'\n\n\n// export default {\n\n//     images:avatar,\n//     matricule:\"1691531ZAM000\",\n//     addresse1:\"Addresse :4 boulevard de la qualité de la \",\n//     addresse2:\"El andalous Ariana \"\n// };\n\n// export default {\n\n//     images:tudex,\n//     matricule:\"1683020/H\",\n//     addresse1:\"Mahdia\",\n//     addresse2:\"\"\n// };\nexport default {\n\n    images:avatar,\n    matricule:\"MF\",\n    addresse1:\"\",\n    addresse2:\"iteslab Tunis\"\n};","import html2canvas from \"html2canvas\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\n\n// 72dpi 時の mm => px 換算比\n// 計算式は 1/(25.4mm / 72dpi)\nconst RATE = 2.83464566929;\n\n// A3 297mm x 419mm\nconst PAGE_WIDTH = 297 * RATE;\nconst PAGE_HEIGHT = 419 * RATE;\n\n// TODO: 仮置き。後でページ設計に合わせて修正\nconst CONTENT_WIDTH = 297 * RATE;\nconst CONTENT_HEIGHT = 419 * RATE;\nconst PAGE_MARGINS= [0 * RATE, 0 * RATE];\n\n/* for type-script\ninterface PdfProps {\n  dataUrl: string;\n  pageSize?: {\n    width: number;\n    height: number;\n  };\n  pageOrientation?: string;\n  contentSize?: {\n    width: number;\n    height: number;\n  };\n  pageMargins?: [number, number];\n}\n*/\n\n/**\n * HTMLからPDFを生成\n * @param {HTMLElement} element\n */\nexport async function createPdfFromHtml(element) {\n  const pdfProps = await createPdfProps(element);\n  createPdf(pdfProps);\n}\n\n/**\n * PDF出力用のPdfPropsを作成\n * @param {HTMLElement} element\n * @returns {Promise<PdfProps>}\n */\nasync function createPdfProps(element) {\n  // html2canvas実行\n  const options = {\n    // HACK: ブラウザ依存でcanvasサイズが変わらないように、scaleは固定値。IEでのぼやけ対策で十分大きめの2にした\n    scale: 2\n  };\n  const canvas = await html2canvas(element, options);\n\n  const dataUrl = canvas.toDataURL();\n\n  const pdfProps = {\n    dataUrl,\n    pageSize: {\n      width: PAGE_WIDTH,\n      height: PAGE_HEIGHT\n    },\n    pageOrientation: \"PORTRAIT\",\n    contentSize: {\n      width: CONTENT_WIDTH,\n      height: CONTENT_HEIGHT\n    },\n    pageMargins: PAGE_MARGINS\n  };\n\n  return pdfProps;\n}\n\n/**\n * エンコードされた画像URLを貼り付けたPDFを出力する\n * @param {PdfProps} pdfProps\n */\nfunction createPdf(pdfProps) {\n  const { dataUrl, contentSize, pageMargins } = pdfProps;\n  const pageSize = pdfProps.pageSize;\n  const pageOrientation = pdfProps.pageOrientation;\n\n  const documentDefinitions = {\n    pageSize,\n    pageOrientation,\n    content: {\n      image: dataUrl,\n      ...contentSize\n    },\n    pageMargins\n  };\n\n  pdfMake.createPdf(documentDefinitions).download();\n}\n","// import React from \"react\";\n// import { Row, Col, Card, Table, Button } from \"react-bootstrap\";\n// import { Link } from \"react-router-dom\";\n// import axios from \"axios\";\n// import { confirmAlert } from \"react-confirm-alert\";\n// import \"react-confirm-alert/src/react-confirm-alert.css\"; // Import\n// import Aux from \"../../../hoc/_Aux\";\n// // import moment from 'moment'\n\n// class Factue extends React.Component {\n//   state = {\n//     Packages: [],\n//     Provider: {}\n//   };\n\n//   componentDidMount() {\n//     console.log(\"her id provider\", window.location.href.split(\"/\").pop())\n//     const config = {\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//         \"Access-Control-Allow-Headers\": \"x-access-token\",\n//         \"x-access-token\": localStorage.getItem('token'),\n//       },\n//     };\n\n//     axios\n//       .get(urlbackend + \"/comptable/paymentProvider/\" + window.location.href.split(\"/\").pop(), config)\n//       .then((response) => {\n//         console.log(\"this respon lisdddddt\", response.data);\n//        // this.setState({ Packages: response.data.content.package });\n//         //this.setState({ Provider: response.data.content.provider })\n//       })\n//       .catch((e) => {\n//         console.log(e);\n//       });\n//   }\n\n//   Delette(Package) {\n//     console.log(\"hellodelet\", Package.id);\n//     confirmAlert({\n//       title: \"Confirm Delete\",\n//       message: \"Are you sure to do Delete?\",\n//       buttons: [\n//         {\n//           label: \"Yes\",\n//           onClick: () => {\n//             axios\n//               .delete(\"http://localhost:5000/api/v1/Packages/\" + Package.id)\n//               .then(() => {\n//                 var array = [...this.state.Packages];\n//                 var index = array.indexOf(Package);\n//                 if (index !== -1) {\n//                   array.splice(index, 1);\n//                   this.setState({ Packages: array });\n//                 }\n//               });\n//           },\n//         },\n//         {\n//           label: \"No\",\n//           onClick: null,\n//         },\n//       ],\n//     });\n//     /*  */\n//   }\n//   render() {\n//     return (\n//       <Aux>\n//         <Row>\n//           <Col>\n//             <Card>\n//               <Card.Header>\n//                 <p> <Card.Title as=\"h5\">\n//                   {this.state.Provider.username} {\"\"}\n\n//                 </Card.Title></p>\n//                 <p>\n//                   <Card.Title as=\"h5\">\n//                     Address :  {this.state.Provider.company} :{this.state.Provider.address}\n\n//                   </Card.Title>\n//                 </p>\n//                 <p>\n//                   <Card.Title as=\"h5\">\n//                     PhoneNumber : {this.state.Provider.phoneNumber}\n\n//                   </Card.Title>\n//                 </p>\n//                 <p>\n//                   <Card.Title as=\"h5\">\n//                     CodeFiscal : {this.state.Provider.codeFiscal}\n\n//                   </Card.Title>\n//                 </p>\n//               </Card.Header>\n//               <Card.Body>\n//                 <Table striped responsive>\n//                   <thead>\n//                     <tr>\n//                       <th>Code</th>\n//                       <th>date d'Enlevement S</th>\n//                       <th>date Enlevement</th>\n//                       <th>quantity</th>\n\n//                     </tr>\n//                   </thead>\n//                   <tbody>\n//                     {this.state.Packages.map((Package, index) => (\n//                       <tr key={Package.id}>\n//                         <td>\n//                           {Package.code}\n//                         </td>\n//                         <td>{moment(Package.dateEnlevement).format(\"YYYY-MM-DD [at] HH:mm:ss\")} </td>\n//                         <td>{moment(Package.dateEnlevementS).format(\"YYYY-MM-DD [at] HH:mm:ss\")} </td>\n//                         <td>{Package.quantity} </td>\n\n//                         <td>\n//                           {\" \"}\n//                           <Link to={\"/v3/Packageprovider/\"+Package.id}>\n//                           <Button\n//                             variant=\"info\"\n//                             onClick={() => console.log(Package.id)}\n//                           >\n//                             {\" \"}\n//                             <span className=\"fa fa-file\"></span>\n//                           </Button>\n//                           </Link>\n//                         </td>\n//                       </tr>\n//                     ))}\n//                   </tbody>\n//                 </Table>\n//               </Card.Body>\n//             </Card>\n//           </Col>\n//         </Row>\n//       </Aux>\n//     );\n//   }\n// }\n\n// export default Factue;\nimport React from \"react\";\n\nimport axios from \"axios\"\nimport { Row, Col, Card, Table } from 'react-bootstrap';\nimport config from \"../Config/config\";\nimport Aux from \"../../hoc/_Aux\";\nimport { createPdfFromHtml } from \"./logic\";\nimport { FaCloudDownloadAlt } from 'react-icons/fa';\nimport { createGlobalStyle } from \"styled-components\";\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css'\nvar urlbackend = require(\"../../env/env\")();\nconst Global = createGlobalStyle`\n  /* paper.css */\n  https://github.com/cognitom/paper-css\n\n  /* @page { margin: 0 } */\n  #print {\n    margin: 0;\n    font-family: \"IPAexGothic\", sans-serif;\n  }\n  .sheet {\n    margin: 0;\n    overflow: hidden;\n    position: relative;\n    box-sizing: border-box;\n    page-break-after: always;\n  }\n  \n  \n  /** Paper sizes **/\n  #print.A3               .sheet { width: 297mm; height: 419mm }\n  #print.A3.landscape     .sheet { width: 420mm; height: 296mm }\n  #print.A4               .sheet { width: 210mm; height: 296mm }\n  #print.A4.landscape     .sheet { width: 297mm; height: 209mm }\n  #print.A5               .sheet { width: 148mm; height: 209mm }\n  #print.A5.landscape     .sheet { width: 210mm; height: 147mm }\n  #print.letter           .sheet { width: 216mm; height: 279mm }\n  #print.letter.landscape .sheet { width: 280mm; height: 215mm }\n  #print.legal            .sheet { width: 216mm; height: 356mm }\n  #print.legal.landscape  .sheet { width: 357mm; height: 215mm }\n  \n  /** Padding area **/\n  .sheet.padding-10mm { padding: 10mm }\n  .sheet.padding-15mm { padding: 15mm }\n  .sheet.padding-20mm { padding: 20mm }\n  .sheet.padding-25mm { padding: 25mm }\n  \n  /** For screen preview **/\n  @media screen {\n    body {\n      background: #E0E0E0;\n      height: 100%;\n    }\n    .sheet {\n      background: #FFFFFF;\n      /* margin: 5mm auto; */\n      padding: 5mm 0;\n    }\n  }\n  \n  /** Fix for Chrome issue #273306 **/\n  @media print {\n    #print.A3.landscape            { width: 420mm }\n    #print.A3, #print.A4.landscape { width: 297mm }\n    #print.A4, #print.A5.landscape { width: 210mm }\n    #print.A5                      { width: 148mm }\n    #print.letter, #print.legal    { width: 216mm }\n    #print.letter.landscape        { width: 280mm }\n    #print.legal.landscape         { width: 357mm }\n  }\n`;\n\n\n\n\nclass Factue extends React.Component {\n    printContent;\n    state = {\n        Provider: {},\n\n        ids: [],\n        names: [],\n        Customers: [],\n        prices: [],\n        weights: [],\n        valeurlivraison: [],\n        prixtotal: [],\n        montant: 0,\n        alertnotive: \"\",\n        test: '',\n        factures: [],\n        soldetotal:0,\n        totaldeilevredprice:0,\n        colis:[]\n\n    };\n    handleClick = () => {\n        createPdfFromHtml(this.printContent);\n    };\n    componentDidMount() {\n\n        const config = {\n            headers: {\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Headers': 'Authorization',\n              \"x-access-token\": localStorage.getItem('token'),\n              'Authorization': 'Bearer '+localStorage.getItem('token'),\n            },\n          };\n          console.log( window.location.href.split(\"/\").pop())\n        axios.get(urlbackend + \"/provider/info/\" + window.location.href.split(\"/\").pop(), config).then((response) => {\n            console.log(\"facteeue: response.data \", response.data)\n            this.setState({ Provider: response.data.data[0] })\n        }).catch((e) => {\n            console.log(e);\n           \n            this.setState({ alertnotive: \"This invoice not yet ready :packages are still online\" })\n\n        });\n        axios.get(urlbackend + \"/facture/\" + window.location.href.split(\"/\").pop(), config).then(response => {\n            \n            //  setInterval(() => {\n            //   this.setState({ Provider: response.data })\n            //  }, 2000);\n            response.data.status === 200 ? this.setState({ factures: response.data.data.rows }) : this.setState({ factures: [], alertnotive: \"This invoice not yet ready :packages are still online\" })\n            if( response.data.status === 200 && response.data.data.rows.length !==0 ){\n                var m;\n                var tota ;\n                response.data.data.rows.map(e=>{\n                       m = this.state.soldetotal+ e.colis.price\n                       tota = this.state.totaldeilevredprice + this.selectweights(e.colis.weight)\n                    this.setState({soldetotal: m})\n                    this.setState({totaldeilevredprice: tota})\n                    this.state.colis.push(e.colis.id)\n                    return 1;\n                    \n                })\n\n            }\n            \n            // response.data.data.rows.map(e => {\n\n            //     this.state.ids.push(e.colis.type_envoi)\n            //     this.state.Customers.push(e.colis.name_complete)\n            //     this.state.prices.push(e.colis.price)\n            //     this.state.weights.push(e.colis.weight)\n            //     this.state.prixtotal.push(parseFloat(e.colis.price))\n\n            //     this.state.valeurlivraison.push(this.selectweights(parseFloat(e.colis.weight)))\n\n\n\n            //     return 1;\n\n            // })\n        })\n            .catch((e) => {\n                console.log(e);\n                this.setState({ alertnotive: \"This invoice not yet ready :packages are still online\" })\n\n            });\n\n\n    }\n\nsendcalidatecolis(){\n    confirmAlert({\n        title: 'Confirm facture',\n        message: 'Are you sure to do virment?',\n        buttons: [\n            {\n                label: 'Yes',\n                onClick: () => {\n                    const config = {\n                        headers: {\n                          'Content-Type': 'application/json',\n                          'Access-Control-Allow-Headers': 'Authorization',\n                          \"x-access-token\": localStorage.getItem('token'),\n                          'Authorization': 'Bearer '+localStorage.getItem('token'),\n                        },\n                      };\n                    axios.put(urlbackend + \"/facture/to_paid\",  {colis:this.state.colis},config).then((response) => {\n                        this.componentDidMount()\n                \n                       // this.setState({ Provider: response.data.data[0] })\n                    }).catch((e) => {\n                        console.log(e);\n                      //  this.setState({ alertnotive: \"This invoice not yet ready :packages are still online\" })\n                \n                    });\n                }\n            },\n            {\n                label: 'No',\n                onClick: null\n            }\n        ]\n    });\n\n    console.log(this.state.colis)\n   \n}\n\n\n    selectweights(valeur) {\n        return (valeur < 10) ? 5 : (valeur > 20 ? 25 : 7)\n\n    }\n\n    afficherdonner() {\n\n        this.componentDidMount()\n        //window.location.reload()\n    }\n\n\n\n\n\n    render() {\n        return (\n            <Aux>\n\n                <div>\n\n                    <button className=\"btn btn-info\" onClick={() => this.sendcalidatecolis()} >   display data</button>\n                    <button className=\"btn btn-success\"  onClick={this.handleClick}>print <FaCloudDownloadAlt /></button>\n                \n                </div>\n            <Global />\n\n                <div\n               \n                className=\"center\" >\n                    <Row  style={{\n                    textAlign: \"center\", backgroundColor: '#FFFFFF',\n                    width: '210mm',\n                    marginLeft: 'auto',\n                    marginRight: 'auto',\n                }}\n                id=\"print\" className=\"A4 center\"\n               \n                ref={el => {\n                    this.printContent = el;\n                }}>\n                        <Col md={6} xl={1}>\n                        </Col>\n                        <Col md={6} xl={5}>\n                            <img style={{ width: '300px' }} src={config.images} alt=\"activity-user\" />\n                        </Col>\n                        <Col md={6} xl={6}>\n                            <Card >\n                                <Card.Body>\n                                    <Card.Title>company ItesLab</Card.Title>\n                                    <Card.Subtitle className=\"mb-2 text-muted\">\n                                    CodeFiscal : RT0001 </Card.Subtitle>\n                                    <Card.Text>\n                                      7187031 : Adress :18 Rue Malaga Manar 1 - 2092\n                                    </Card.Text>\n\n                                    <Card.Text>\n                                    Tél  portable:   +216 71 870 031 / +216 50 409 858\n                                    </Card.Text>\n                                    {/* <Card.Link >Card Link</Card.Link>\n                                    <Card.Link >Another Link</Card.Link> */}\n                                </Card.Body>\n                            </Card>\n                        </Col>\n                        <Col md={6} xl={6}>\n                        <Card >\n                                <Card.Body>\n                                    <Card.Title>{this.state.Provider.username}</Card.Title>\n                                    <Card.Subtitle className=\"mb-2 text-muted\">{this.state.Provider.firstname} {this.state.Provider.lastname} </Card.Subtitle>\n                                    <Card.Subtitle className=\"mb-2 text-muted\">{this.state.Provider.code_fiscal} </Card.Subtitle>\n                                 \n                                    <Card.Text>\n                                        {this.state.Provider.phone_number} : {this.state.Provider.address} \n                                    </Card.Text>\n                                    {/* <Card.Link >Card Link</Card.Link>\n                                    <Card.Link >Another Link</Card.Link> */}\n                                </Card.Body>\n                            </Card>\n                        </Col>\n                        <Col md={6} xl={12}>\n                            <Card className='Recent-Users'>\n                                <Card.Header>\n                                    <Card.Title as='h5'>N° 1604</Card.Title>\n                                </Card.Header>\n                                <Card.Body className='px-0 py-2'>\n                                    <div\n                                        style={{\n                                            maxHeight: \"350px\",\n                                            overflowY: \"auto\",\n                                            overflow: \"scroll\",\n                                        }}\n                                    >\n                                        <Table striped responsive hover>\n                                            <thead>\n                                                <th>N° de Colis</th>\n                                                <th>client</th>\n                                                <th>Poids</th>\n                                                <th>Prix</th>\n                                                <th>Prix Livraison</th>\n                                                <th>Total</th>\n\n                                            </thead>\n\n                                            <tbody>\n                                                {this.state.factures?.map((e) => (<tr key={e.id} className=\"unread\">\n                                                    <td>\n                                                        <h6 className=\"mb-1\">{e.colis.index_colis}</h6>\n                                                    </td>\n                                                    <td>\n                                                        <h6 className=\"mb-1\">{e.colis.name_complete}</h6>\n                                                    </td>\n                                                    <td>\n                                                        <h6 className=\"mb-1\">{e.colis.weight}</h6>\n                                                    </td>\n                                                    <td>\n                                                        <h6 className=\"mb-1\">{e.colis.price}</h6>\n                                                    </td>\n                                                    <td>\n                                                        <h6 className=\"mb-1\">{this.selectweights(e.colis.weight)}</h6>\n                                                    </td>\n                                                    <td>\n                                                        <h6 className=\"mb-1\">{e.colis.price - this.selectweights(e.colis.weight)}</h6>\n                                                    </td>\n\n                                                </tr>))}\n\n                                            </tbody>\n                                        </Table>\n                                    </div>\n\n                                </Card.Body>\n                            </Card>\n                        </Col>\n                        <Col md={6} xl={6}>\n                        </Col>\n                        <Col md={6} xl={6}>\n                            <Card className='Recent-Users'>\n                                <Card.Header>\n                                    <Card.Title as='h5'> {this.state.alertnotive}</Card.Title>\n                                </Card.Header>\n                                <Card.Body className='px-0 py-2'>\n                                    <div\n                                        style={{\n                                            maxHeight: \"350px\",\n                                            overflowY: \"auto\",\n                                            overflow: \"scroll\",\n                                        }}\n                                    >\n                                        <Table >\n                                            <tr>\n                                                <th>Total :</th>\n                                                <td>{this.state.soldetotal}   TND</td>\n                                            </tr>\n                                            <tr>\n                                                <th>price dilevred:</th>\n                                                <td>{this.state.totaldeilevredprice}    TND </td>\n                                            </tr>\n                                            <tr>\n                                                <th>Total payment:</th>\n                                                <td>{this.state.soldetotal -this.state.totaldeilevredprice}   TND</td>\n                                            </tr>\n                                        </Table>\n                                    </div>\n\n                                </Card.Body>\n                            </Card>\n                        </Col>\n                    </Row>\n                   \n                </div>\n            </Aux>\n\n        )\n    }\n}\n\n\n\nexport default Factue;\n\n"],"names":["images","avatar","matricule","addresse1","addresse2","RATE","PAGE_WIDTH","PAGE_HEIGHT","CONTENT_WIDTH","CONTENT_HEIGHT","PAGE_MARGINS","createPdfFromHtml","element","createPdfProps","createPdf","options","scale","html2canvas","canvas","dataUrl","toDataURL","pdfProps","pageSize","width","height","pageOrientation","contentSize","pageMargins","documentDefinitions","content","image","pdfMake","download","urlbackend","require","Global","createGlobalStyle","Factue","state","Provider","ids","names","Customers","prices","weights","valeurlivraison","prixtotal","montant","alertnotive","test","factures","soldetotal","totaldeilevredprice","colis","handleClick","printContent","config","headers","localStorage","getItem","console","log","window","location","href","split","pop","axios","then","response","data","setState","catch","e","m","tota","status","rows","length","map","price","selectweights","weight","push","id","confirmAlert","title","message","buttons","label","onClick","componentDidMount","this","valeur","className","sendcalidatecolis","Row","style","textAlign","backgroundColor","marginLeft","marginRight","ref","el","Col","md","xl","src","alt","Card","username","firstname","lastname","code_fiscal","phone_number","address","as","maxHeight","overflowY","overflow","Table","striped","responsive","hover","index_colis","name_complete","React"],"sourceRoot":""}