"use strict";(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[6794],{46335:function(t,e,n){n.r(e);var o=n(15671),i=n(43144),r=n(60136),a=n(29388),s=n(72791),l=n(97562),c=n(78695),u=n(89743),d=n(2677),h=n(74569),p=n.n(h),f=(n(33700),n(74387)),m=n(72426),g=n.n(m),v=n(77447),x=n(59135),Z=n(80184),j=n(24245)(),y=function(t){(0,r.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).state={Historys:[]},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};p().get(j+"/colis/history/"+window.location.href.split("/").pop(),e).then((function(e){console.log(e.data),t.setState({Historys:e.data.data.sort((function(t,e){return new Date(e.update_at)-new Date(t.update_at)}))})}))}},{key:"eventcreate",value:function(t){return JSON.parse(t.event).action}},{key:"render",value:function(){return(0,Z.jsx)(f.Z,{children:(0,Z.jsx)(c.Z,{children:(0,Z.jsxs)(u.Z,{children:[(0,Z.jsx)(d.Z,{children:(0,Z.jsx)("div",{style:{height:"60vh",width:"100%"},children:(0,Z.jsx)(v.Z,{fortracking:"colis",locationto:window.location.href.split("/").pop()})},this.props.key)}),(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(c.Z,{children:(0,Z.jsx)("div",{style:{maxHeight:"600px",overflowY:"auto",overflow:"scroll"},children:(0,Z.jsx)(l.VerticalTimeline,{children:this.state.Historys.map((function(t,e){return(0,Z.jsxs)(l.VerticalTimelineElement,{contentStyle:{background:"#72f5de",color:"#000000"},contentArrowStyle:{borderRight:"7px solid  #72f5de"},date:g()(t.created_at).format("YYYY-MM-DD [at] HH:mm:ss"),icon:e<3?(0,Z.jsx)(x.AFA,{}):(0,Z.jsx)(x.FSC,{}),children:[(0,Z.jsxs)("h3",{className:"vertical-timeline-element-title",children:[" ",t.event," "]}),(0,Z.jsxs)("h3",{className:"vertical-timeline-element-title",children:["User : ",t.actionneurs?t.actionneurs.username:t.actionneurs]}),(0,Z.jsxs)("p",{className:"vertical-timeline-element-title",children:["agence : ",t.agence?t.agence.name:t.agence]})]})}))})})})})]})})})}}]),n}(s.Component);e.default=y},77447:function(t,e,n){n.d(e,{Z:function(){return m}});var o=n(15671),i=n(43144),r=n(60136),a=n(29388),s=n(72791),l=n(2040),c={position:"absolute",width:40,height:40,left:-20,top:-20,border:"5px solid #f44336",borderRadius:40,backgroundColor:"white",textAlign:"center",color:"#3f51b5",fontSize:16,fontWeight:"bold",padding:4},u=n(80184),d=function(t){(0,r.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,o.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,u.jsx)("div",{style:c,children:this.props.text},this.props.id)}}]),n}(s.Component),h=n(74569),p=n.n(h),f=n(24245)(),m=function(t){(0,r.Z)(n,t);var e=(0,a.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).state={listPosition:[]},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var t=this;console.log(this.props.locationto);var e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};p().get(f+"/"+this.props.fortracking+"/location/"+this.props.locationto,e).then((function(e){console.log("this respon locationto",e.data.data),t.setState({listPosition:e.data.data})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,u.jsx)(l.ZP,{bootstrapURLKeys:{key:"AIzaSyB82mLJM4AnpZmSQmnvXjXsUETGidCj3Yo"},defaultCenter:this.props.center,defaultZoom:this.props.zoom,children:this.state.listPosition.map((function(t){return(0,u.jsx)(d,{lat:t.latitude,lng:t.longitude,text:"A"},t.id)}))})}}]),n}(s.Component);m.defaultProps={center:{lat:36.1,lng:10.1},zoom:8}},87338:function(t,e,n){var o=n(72791).createContext(null);o.displayName="CardContext",e.Z=o},27472:function(t,e,n){var o=n(87462),i=n(72791),r=n(60654),a=n.n(r);e.Z=function(t){return i.forwardRef((function(e,n){return i.createElement("div",(0,o.Z)({},e,{ref:n,className:a()(e.className,t)}))}))}}}]);
//# sourceMappingURL=6794.e70cb808.chunk.js.map