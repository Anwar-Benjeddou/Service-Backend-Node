/*! For license information please see 1865.123e669c.chunk.js.LICENSE.txt */
(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[1865],{627:function(e,r,s){"use strict";s.d(r,{Z:function(){return o}});var a=s(29439),n=s(72791),t=s(38122),i=s(80184);function o(e){var r=(0,n.useState)(e.showit),s=(0,a.Z)(r,2),o=s[0],l=s[1];return(0,n.useEffect)((function(){console.log("show message Modal value:",o)}),[o]),(0,i.jsx)(t.Z,{color:e.design,isOpen:o,toggle:function(){return l(!1)},children:(0,i.jsx)("p",{children:e.message})})}},42464:function(e,r,s){"use strict";s(72791);var a=s(99410),n=s(74292),t=s(95693),i=s(80184);r.Z=function(e){var r=e.name,s=e.label,o=e.onChange,l=e.onBlur,c=e.value,u=e.type,d=e.isInvalid,m=e.errors,h=e.touched;return(0,i.jsx)(i.Fragment,{children:"Phone"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{htmlFor:"basic-url",children:[r," ",(0,i.jsx)(t.Z,{errors:m,touched:h})]}),(0,i.jsxs)(a.Z,{className:"mb-3",children:[(0,i.jsx)(a.Z.Prepend,{children:(0,i.jsx)(a.Z.Text,{id:"basic-addon1",children:"+216"})}),(0,i.jsx)(n.Z,{placeholder:s,"aria-label":r,"aria-describedby":r,onChange:o,onBlur:l,value:c,isInvalid:d,label:s,name:r,type:u})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{htmlFor:"basic-url",children:[s,"  ",(0,i.jsx)(t.Z,{errors:m,touched:h})]}),(0,i.jsx)(a.Z,{className:"mb-3",children:(0,i.jsx)(n.Z,{placeholder:s,"aria-label":s,"aria-describedby":s,onChange:o,onBlur:l,value:c,isInvalid:d,label:s,name:r,type:u})})]})})}},95693:function(e,r,s){"use strict";s.d(r,{Z:function(){return o}});var a=s(29439),n=(s(72791),s(65151)),t=s(22247),i=s(80184),o=function(e){var r=function(e,r){return r?e&&r?["fa-times-circle-o input-invalid",e]:!e&&r?["fa-check-circle-o input-valid",t.Z.t("valid-field")]:void 0:[]}(e.errors,e.touched),s=(0,a.Z)(r,2),o=s[0],l=s[1];return(0,i.jsx)(n.ZP,{title:Array.isArray(l)?l.map((function(e){return(0,i.jsxs)("span",{className:"tooltip-message",children:[e," ",(0,i.jsx)("br",{})]})})):(0,i.jsxs)("span",{className:"tooltip-message",children:[l," ",(0,i.jsx)("br",{})]}),placement:"right",children:(0,i.jsx)("span",{children:(0,i.jsx)("i",{className:"fa "+o})})})}},86408:function(e,r,s){"use strict";s.r(r);var a=s(93433),n=s(15671),t=s(43144),i=s(60136),o=s(29388),l=s(72791),c=s(89743),u=s(2677),d=s(78695),m=s(99410),h=s(74292),p=s(43360),Z=s(55705),g=s(76863),x=s(74569),f=s.n(x),v=s(10475),j=s(74387),b=s(42464),y=s(627),C=s(22247),w=s(80184),S=s(24245)(),B=g.Ry().shape({email:g.Z_().email(C.Z.t("error-email")).required(C.Z.t("error-required-email")),phone_number:g.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,C.Z.t("error-phone-number")).required(C.Z.t("error-required-phone-number")),city:g.Z_().min(2,"City is Too Short!").max(20,"City is Too Long!").required("City is Required"),country:g.Z_().min(2,"Country is Too Short!").max(20,"Country is Too Long!").required("Country is Required"),firstname:g.Z_().min(2,C.Z.t("error-short-first-name")).max(20,C.Z.t("error-long-first-name")).required(C.Z.t("error-required-first-name")),lastname:g.Z_().min(2,C.Z.t("error-short-last-name")).max(20,C.Z.t("error-long-last-name")).required(C.Z.t("error-required-last-name")),address:g.Z_().required(C.Z.t("error-address")),username:g.Z_().required(C.Z.t("error-username")),password:g.Z_().required(C.Z.t("error-password"))}),_=function(e){(0,i.Z)(s,e);var r=(0,o.Z)(s);function s(){var e;(0,n.Z)(this,s);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=r.call.apply(r,[this].concat(i))).state={privileges:[],permissions:[],agences:[],permissionss:[],showMessageParams:{display:!1,type:"success",message:null}},e.handleChange=function(r){console.log(r.target.value),e.setState({permissionss:[].concat((0,a.Z)(e.state.permissionss),[r.target.value])})},e.handlSubmit=function(r){r.permissions=e.state.permissionss,console.log(r);var s={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};f().post(S+"/addUser/admin",r,s).then((function(r){e.setState({showMessageParams:{display:!0,type:"success",message:C.Z.t("success-add-admin")}}),e.setState({showMessageParams:{display:!1,type:"success",message:null}})})).catch((function(r){e.setState({showMessageParams:{display:!0,type:"danger",message:C.Z.t("error-add-admin")}}),console.log(r)}))},e.showForm=function(r){var s=r.values,a=r.errors,n=r.touched,t=r.handleChange,i=(r.handleSubmit,r.handleBlur),o=(r.setFieldValue,r.isSubmitting,r.dirty,r.isValid,r.handleReset),l=e.state.showMessageParams;return(0,w.jsx)(j.Z,{children:(0,w.jsx)(c.Z,{children:(0,w.jsx)(u.Z,{children:(0,w.jsxs)(d.Z,{children:[(0,w.jsx)(d.Z.Header,{children:(0,w.jsx)(d.Z.Title,{as:"h5",children:C.Z.t("add-admin")})}),1==l.display?(0,w.jsx)(y.Z,{message:l.message,design:l.type,showit:l.display}):null,(0,w.jsxs)(d.Z.Body,{children:[(0,w.jsxs)(c.Z,{children:[(0,w.jsxs)(u.Z,{md:6,children:[(0,w.jsx)(b.Z,{name:"firstname",onChange:t,onBlur:i,value:s.firstname,errors:a.firstname,touched:n.firstname,label:C.Z.t("first-name")}),(0,w.jsx)(b.Z,{name:"lastname",label:C.Z.t("last-name"),onChange:t,onBlur:i,value:s.lastname,errors:a.lastname,touched:n.lastname}),(0,w.jsx)(b.Z,{name:"username",label:C.Z.t("username"),onChange:t,onBlur:i,value:s.username,errors:a.username,touched:n.username}),(0,w.jsx)(b.Z,{name:"password",label:C.Z.t("password"),onChange:t,onBlur:i,value:s.password,errors:a.password,touched:n.password,type:"password"}),(0,w.jsx)(b.Z,{name:"email",label:C.Z.t("email"),onChange:t,onBlur:i,value:s.email,errors:a.email,touched:n.email}),(0,w.jsx)("div",{children:e.state.permissions.map((function(r){return(0,w.jsxs)("div",{children:[(0,w.jsx)(v.Z,{onChange:function(r){return e.handleChange(r)},inputProps:{"aria-label":"primary checkbox"},value:r.id},r.id),"  ",r.name]})}))})]}),(0,w.jsxs)(u.Z,{md:6,children:[(0,w.jsx)(b.Z,{name:"phone_number",label:C.Z.t("phone-number"),onChange:t,onBlur:i,value:s.phone_number,errors:a.phone_number,touched:n.phone_number}),(0,w.jsx)(b.Z,{name:"address",label:C.Z.t("address"),onChange:t,onBlur:i,value:s.address,errors:a.address,touched:n.address}),(0,w.jsx)("label",{htmlFor:"basic-url",children:C.Z.t("descriminator")}),(0,w.jsx)(m.Z,{className:"mb-3",children:(0,w.jsxs)(h.Z,{as:"select",id:"descriminator",custom:!0,onChange:t,onBlur:i,value:s.Formateur,children:[(0,w.jsx)("option",{children:C.Z.t("choose-descriminator")}),["regular_user","magasinier","comptable"].map((function(e,r){return(0,w.jsx)("option",{value:e,children:e},e)}))]})}),(0,w.jsx)("label",{htmlFor:"basic-url",children:C.Z.t("privilege")}),(0,w.jsx)(m.Z,{className:"mb-3",children:(0,w.jsxs)(h.Z,{as:"select",id:"privilege",custom:!0,onChange:t,onBlur:i,value:s.Formateur,children:[(0,w.jsx)("option",{children:C.Z.t("choose-privilege")}),e.state.privileges.map((function(e,r){return(0,w.jsxs)("option",{value:e.id,children:[e.name," :",e.description]},e.id)}))]})}),(0,w.jsx)("label",{htmlFor:"basic-url",children:C.Z.t("agency")}),(0,w.jsx)(m.Z,{className:"mb-3",children:(0,w.jsxs)(h.Z,{as:"select",id:"agence",custom:!0,onChange:t,onBlur:i,value:s.Formateur,children:[(0,w.jsx)("option",{children:C.Z.t("choose-agency")}),e.state.agences.map((function(e,r){return(0,w.jsxs)("option",{value:e.id,children:[e.name," :",e.address]},e.id)}))]})})]})]}),(0,w.jsx)(p.Z,{onClick:function(){e.handlSubmit(s),o()},children:C.Z.t("save")})]})]})})})})},e}return(0,t.Z)(s,[{key:"componentDidMount",value:function(){var e=this,r={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},s=f().get(S+"/privileges",r),a=f().get(S+"/agence",r),n=f().get(S+"/permissions",r);f().all([s,a,n]).then(f().spread((function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];console.log("this respon list0",s[2].data),console.log("this respon list1",s[1].data),e.setState({privileges:s[0].data.data}),e.setState({agences:s[1].data.data}),e.setState({permissions:s[2].data.data})}))).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return(0,w.jsx)(Z.J9,{initialValues:{firstname:"",lastname:"",username:"",password:"",email:"",phone_number:"",address:""},onSubmit:function(r,s){var a=s.setSubmitting;e.submitForm(r),a(!1)},validationSchema:B,children:function(r){return e.showForm(r)}})}}]),s}(l.Component);r.default=_},81694:function(e,r){var s;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var t=typeof s;if("string"===t||"number"===t)e.push(s);else if(Array.isArray(s))e.push(n.apply(null,s));else if("object"===t)for(var i in s)a.call(s,i)&&s[i]&&e.push(i)}}return e.join(" ")}e.exports?e.exports=n:void 0===(s=function(){return n}.apply(r,[]))||(e.exports=s)}()},87338:function(e,r,s){"use strict";var a=s(72791).createContext(null);a.displayName="CardContext",r.Z=a},27472:function(e,r,s){"use strict";var a=s(87462),n=s(72791),t=s(60654),i=s.n(t);r.Z=function(e){return n.forwardRef((function(r,s){return n.createElement("div",(0,a.Z)({},r,{ref:s,className:i()(r.className,e)}))}))}}}]);
//# sourceMappingURL=1865.123e669c.chunk.js.map