(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[1740],{87101:function(e,t,r){"use strict";r.r(t);var a=r(29439),s=r(72791),i=r(88749),o=r(41971),n=r(51695),c=r(42953),l=r(74569),d=r.n(l),u=r(43360),m=r(89743),h=r(2677),x=r(59151),p=r(3637),f=r(45279),v=r(46387),j=r(78417),g=r(74387),N=r(58826),b=r(2002),Z=r(92746),y=r(98472),F=r(36161),_=(r(35125),r(72426)),k=r.n(_),w=r(64802),C=r(58484),D=r(80184),P=r(24245)();t.default=function(){var e=(0,s.useState)([]),t=(0,a.Z)(e,2),r=t[0],l=t[1],_=(0,s.useState)([]),S=(0,a.Z)(_,2),A=S[0],E=S[1],z=(0,s.useState)([]),L=(0,a.Z)(z,2),I=L[0],T=L[1],R=(0,s.useState)([]),K=(0,a.Z)(R,2),q=(K[0],K[1]);function Y(e,t,r){var a=r.sortElement,s=r.filterElement;return(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[s,e.text,a,(0,D.jsx)("span",{className:"fa fa-filter"})]})}var O=[{dataField:"colis.index_colis",text:"Num\xe9ro colis",headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"colis.name_complete",text:"Nom client",formatter:function(e,t){return(0,D.jsxs)("div",{children:["".concat(t.colis.name_complete," ")," : ","".concat(t.colis.gouvernorat)," ",(0,D.jsx)("br",{})," ","".concat(t.colis.gouvernorat)," ","".concat(t.colis.address)," "]})},headerFormatter:Y,filter:(0,Z.DN)()},{dataField:"driver.username",text:"chauffeur affect\xe9",formatter:function(e,t){var r,a;return(0,D.jsxs)("div",{children:["".concat(null===(r=t.driver)||void 0===r?void 0:r.username," ")," : ","".concat(null===(a=t.driver)||void 0===a?void 0:a.phone_number)]})},headerFormatter:Y,filter:(0,Z.DN)()},{dataField:"colis.provider.username",text:"Expiditeur",formatter:function(e,t){return(0,D.jsx)("div",{className:"h-auto  badge ",children:(0,D.jsx)("p",{style:{color:"#0654ee"},children:t.colis.provider.username})})},headerFormatter:Y,filter:(0,Z.DN)()},{dataField:"colis.name_complete",text:"status",formatter:function(e,t){return(0,D.jsx)("div",{className:"h-auto  badge ",children:(0,D.jsx)("p",{style:{color:"orange"},children:"EN ATTENTE"})})}},{dataField:"colis.name_complete",text:"Historique",formatter:function(e,t){return(0,D.jsx)("div",{children:(0,D.jsx)(j.Z,{to:"/history/colis/"+t.colis.id,children:(0,D.jsxs)(u.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,D.jsx)("span",{className:"fa fa-file"})]})})})}},{dataField:"colis.name_complete",text:"colis en cours",formatter:function(e,t){return(0,D.jsx)("div",{children:(0,D.jsxs)(u.Z,{variant:"warning",onClick:function(){return H(t.colis.id)},children:[" ",(0,D.jsx)("span",{className:"fa fa-forward"})]})})}},{dataField:"colis.name_complete",text:"qrcode",formatter:function(e,t){return(0,D.jsx)(N.Z,{url:t.colis.id})}}],V=[{dataField:"colis.index_colis",text:"Num\xe9ro colis",headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"colis.name_complete",text:"Nom client",formatter:function(e,t){return(0,D.jsxs)("div",{children:["".concat(t.colis.name_complete," ")," : ","".concat(t.colis.gouvernorat)," ",(0,D.jsx)("br",{})," ","".concat(t.colis.gouvernorat)," ","".concat(t.colis.address)," "]})},headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"colis.phone_number",text:"N.T\xe9l\xe9phone",headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"driver.username",text:"chauffeur affect\xe9",formatter:function(e,t){return(0,D.jsxs)("div",{children:["".concat(t.driver.username," ")," : ","".concat(t.driver.phone_number)]})},headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"colis.price",text:"prix",sort:!0},{dataField:"colis.provider.username",text:"Expiditeur",formatter:function(e,t){return(0,D.jsx)("div",{className:"h-auto  badge ",children:(0,D.jsxs)("p",{style:{color:"#0654ee"},children:[t.colis.provider.username,": ",t.colis.provider.phone_number," "]})})},headerFormatter:Y,filter:(0,Z.DN)()},{dataField:"colis.name_complete",text:"status",formatter:function(e,t){return(0,D.jsx)("div",{className:"h-auto  badge ",children:(0,D.jsx)("p",{style:{color:"green"},children:"Retour"})})}},{dataField:"colis.name_complete",text:"qrcode",formatter:function(e,t){return(0,D.jsx)(N.Z,{url:t.colis.id})}},{dataField:"colis.name_complete",text:"Historique",formatter:function(e,t){return(0,D.jsx)(j.Z,{to:"/history/colis/"+t.colis.id,children:(0,D.jsxs)(u.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,D.jsx)("span",{className:"fa fa-file"})]})})}}],H=function(e){var t={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};d().put(P+"/retour/to_done/provider",{colis:[e]},t).then((function(e){console.log("thisgobackaaa"),alert("done")})).catch((function(e){}))},W=[{dataField:"colis.index_colis",text:"Num\xe9ro colis",headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"colis.name_complete",text:"Nom client",formatter:function(e,t){return(0,D.jsxs)("div",{children:["".concat(t.colis.name_complete," ")," : ","".concat(t.colis.phone_number)," ",(0,D.jsx)("br",{})," ","".concat(t.colis.gouvernorat)," ","".concat(t.colis.address)," "]})},headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"colis.phone_number",text:"N.T\xe9l\xe9phone",headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"driver.username",text:"chauffeur affect\xe9",formatter:function(e,t){return(0,D.jsxs)("div",{children:["".concat(t.driver.username," ")," : ","".concat(t.driver.phone_number)]})},headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"colis.price",text:"Prix",sort:!0},{dataField:"colis.provider.username",text:"Expiditeur",formatter:function(e,t){return(0,D.jsx)("div",{className:"h-auto  badge ",children:(0,D.jsx)("p",{style:{color:"#0654ee"},children:t.colis.provider.username})})},headerFormatter:Y,filter:(0,Z.DN)(),sort:!0},{dataField:"colis.name_complete",text:"status",formatter:function(e,t){return(0,D.jsx)("div",{className:"h-auto  badge ",children:(0,D.jsx)("p",{style:{color:"red"},children:"EN COURS"})})},sort:!0},{dataField:"colis.name_complete",text:"Historique",formatter:function(e,t){return(0,D.jsx)("div",{children:(0,D.jsx)(j.Z,{to:"/history/colis/"+t.colis.id,children:(0,D.jsxs)(u.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,D.jsx)("span",{className:"fa fa-file"})]})})})}},{dataField:"colis.name_complete",text:"qrcode",formatter:function(e,t){return(0,D.jsx)("div",{children:(0,D.jsx)(N.Z,{url:t.colis.id})})}}];(0,s.useEffect)((function(){B()}),[]);var B=function(){console.log("ici datataaaa");var e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},t=d().get(P+"/retour/pending/to_provider?current_page=1&per_page=500",e),r=d().get(P+"/retour/ongoing/to_provider?current_page=1&per_page=500",e),a=d().get(P+"/retour/done/to_provider?current_page=1&per_page=500",e),s=d().get(P+"/provider_id",e);d().all([t,r,a,s]).then(d().spread((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log("this respon list0",t[0].data),console.log("this respon list1",t[2].data.data),l(t[0].data.data.data),E(t[1].data.data.data),T(t[2].data.data.data),q(t[3].data.data)}))).catch((function(e){console.error(e)}))},M=function(e,t,r){if("pdf"===e);else{var a=t.map((function(e){return{"Num\xe9ro colis":e.colis.index_colis,"client ":e.colis.name_complete,"N. de t\xe9l\xe9phone":e.colis.phone_number,gouvernorat:e.colis.gouvernorat,addresse:e.colis.city+":"+e.colis.address,prix:e.colis.price,"type paiment":e.colis.payment_mode,"type d'envoi":e.colis.type_envoi}})),s={Sheets:{data:C.utils.json_to_sheet(a)},SheetNames:["data"]},i=C.write(s,{bookType:"xlsx",type:"array"}),o=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});w.saveAs(o,r+".xlsx")}},Q={parentClassName:"parent-expand-foo",renderer:function(e,t){return(0,D.jsxs)("div",{children:[(0,D.jsxs)("p",{children:[(0,D.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  "," ","  Date cr\xe9ation   :"," "]})," ",k()(e.colis.created_at).format("YYYY/MM/DD - hh:mm")," "]}),(0,D.jsxs)("p",{children:["    ",(0,D.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ","Date Pickup :"," "," "]}),"  ",k()(e.colis.update_at).format("YYYY/MM/DD - hh:mm")," "]})]})},onlyOneExpanding:!0};return(0,D.jsx)(g.Z,{children:(0,D.jsx)(m.Z,{children:(0,D.jsxs)(h.Z,{children:[(0,D.jsx)("h5",{children:"List Colis "}),(0,D.jsx)("button",{className:"btn btn-info",onClick:function(){B()},children:"   refresh"}),(0,D.jsx)("hr",{}),(0,D.jsxs)(x.Z,{defaultActiveKey:"home",children:[(0,D.jsx)(p.Z,{eventKey:"home",title:"EN ATTENTE",children:(0,D.jsxs)(i.Z,{className:"card-box mb-4",children:[(0,D.jsxs)("div",{className:"card-header",children:[(0,D.jsx)("div",{className:"card-header--title"}),(0,D.jsxs)(o.Z,{className:"card-header--actions",children:[(0,D.jsx)(n.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"}),(0,D.jsxs)(f.Z,{title:(0,D.jsx)("span",{className:"fa fa-download",children:" Liste colis planifi\xe9"}),variant:"info",id:"dropdown-variants-success",onSelect:function(e){return M(e,r,"Liste colis planifi\xe9")},children:[(0,D.jsx)(v.Z.Item,{eventKey:"pdf",children:"pdf"}),(0,D.jsx)(v.Z.Item,{eventKey:"csv",children:"excel "})]},"success")]})]}),(0,D.jsx)(c.Z,{className:"p-0",children:(0,D.jsx)("div",{className:"table-responsive",children:(0,D.jsx)("div",{className:"app-row",children:(0,D.jsxs)("div",{className:"app-col-xs-12 app-col-md-12",children:[(0,D.jsx)(b.Z,{striped:!0,bordered:!0,hover:!0,loading:!0,variant:"dark",bootstrap4:!0,keyField:"id",data:r,columns:O,expandRow:Q,pagination:(0,F.ZP)({sizePerPage:15,sizePerPageList:[5,10,15,20,25]}),filter:(0,Z.ZP)(),headerClasses:"table thead-light mb-0"}),(0,D.jsx)(y.CSVLink,{data:r,children:(0,D.jsx)(u.Z,{color:"primary",variant:"contained",children:"download csv"})})]})})})})]})}),(0,D.jsx)(p.Z,{eventKey:"profile",title:"EN COURS",children:(0,D.jsxs)(i.Z,{className:"card-box mb-4",children:[(0,D.jsxs)("div",{className:"card-header",children:[(0,D.jsx)("div",{className:"card-header--title"}),(0,D.jsx)(o.Z,{className:"card-header--actions",children:(0,D.jsx)(n.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"})}),(0,D.jsxs)(f.Z,{title:(0,D.jsx)("span",{className:"fa fa-download",children:" Liste en cours"}),variant:"info",id:"dropdown-variants-success",onSelect:function(e){return M(e,A,"Liste en cours")},children:[(0,D.jsx)(v.Z.Item,{eventKey:"pdf",children:"pdf"}),(0,D.jsx)(v.Z.Item,{eventKey:"csv",children:"excel "})]},"success")]}),(0,D.jsx)(c.Z,{className:"p-0",children:(0,D.jsx)("div",{className:"table-responsive",children:(0,D.jsx)("div",{className:"app-row",children:(0,D.jsxs)("div",{className:"app-col-xs-12 app-col-md-12",children:[(0,D.jsx)(b.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",bootstrap4:!0,keyField:"id",data:A,columns:W,expandRow:Q,pagination:(0,F.ZP)({sizePerPage:15,sizePerPageList:[5,10,15,20,25]}),filter:(0,Z.ZP)(),headerClasses:"table thead-light mb-0"}),(0,D.jsx)(y.CSVLink,{data:r,children:(0,D.jsx)(u.Z,{color:"primary",variant:"contained",children:"download csv"})})]})})})})]})}),(0,D.jsx)(p.Z,{eventKey:"contact",title:"Retour",children:(0,D.jsxs)(i.Z,{className:"card-box mb-4",children:[(0,D.jsxs)("div",{className:"card-header",children:[(0,D.jsx)("div",{className:"card-header--title"}),(0,D.jsx)(o.Z,{className:"card-header--actions",children:(0,D.jsx)(n.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"})}),(0,D.jsxs)(f.Z,{title:(0,D.jsx)("span",{className:"fa fa-download",children:" Liste colis Retour"}),variant:"info",id:"dropdown-variants-success",onSelect:function(e){return M(e,I,"Liste colis Retour")},children:[(0,D.jsx)(v.Z.Item,{eventKey:"pdf",children:"pdf"}),(0,D.jsx)(v.Z.Item,{eventKey:"csv",children:"excel "})]},"success")]}),(0,D.jsx)(c.Z,{className:"p-0",children:(0,D.jsx)("div",{className:"table-responsive",children:(0,D.jsx)("div",{className:"app-row",children:(0,D.jsxs)("div",{className:"app-col-xs-12 app-col-md-12",children:[(0,D.jsx)(b.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",bootstrap4:!0,keyField:"id",data:I,columns:V,expandRow:Q,pagination:(0,F.ZP)({sizePerPage:15,sizePerPageList:[5,10,15,20,25]}),filter:(0,Z.ZP)(),headerClasses:"table thead-light mb-0"}),(0,D.jsx)(y.CSVLink,{data:r,children:(0,D.jsx)(u.Z,{color:"primary",variant:"contained",children:"download csv"})})]})})})})]})})]})]})})})}},58826:function(e,t,r){"use strict";var a=r(29439),s=r(72791),i=r(44517),o=r(81815),n=r(62298),c=r(4292),l=r(95234),d=r(78146),u=r(55649),m=r(59135),h=r(80184),x=r(50207),p={scale:5,encoderOptions:1,backgroundColor:"white"};t.Z=function(e){var t=e.buttonLabel,r=e.className,f=(0,s.useState)(!1),v=(0,a.Z)(f,2),j=v[0],g=v[1],N=(0,s.useState)(!0),b=(0,a.Z)(N,1)[0],Z=function(){return g(!j)};return(0,h.jsxs)("div",{children:[(0,h.jsx)(i.Z,{inline:!0,onSubmit:function(e){return e.preventDefault()},children:(0,h.jsxs)(o.Z,{color:"info",onClick:Z,children:[t,(0,h.jsx)("span",{className:"fa fa-qrcode"})]})}),(0,h.jsxs)(n.Z,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,isOpen:j,toggle:Z,className:r,unmountOnClose:b,children:[(0,h.jsxs)(c.Z,{toggle:Z,children:["   ",(0,h.jsxs)("div",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",(0,h.jsx)("span",{children:"  show qrcode "})," "]})," "]}),(0,h.jsxs)(l.Z,{size:"lg",children:[(0,h.jsx)("div",{children:(0,h.jsxs)("p",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",e.url]})}),(0,h.jsx)("p",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:(0,h.jsx)(d.QRCode,{id:"svg-chart",bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:256},value:e.url})})]}),(0,h.jsxs)(u.Z,{children:[(0,h.jsxs)(o.Z,{onClick:function(){x.saveSvgAsPng(document.getElementById("svg-chart"),"shapes.png",p)},children:["Download Image ",(0,h.jsx)(m.veA,{})]}),(0,h.jsxs)(o.Z,{onClick:function(){return window.print()},children:["PRINT ",(0,h.jsx)(m.rcQ,{})," "]})]})]})]})}},55382:function(){},72095:function(){},61219:function(){}}]);
//# sourceMappingURL=1740.2c5e7faf.chunk.js.map