(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[5987],{14655:function(e,t,n){"use strict";n.r(t);var r=n(29439),o=n(72791),a=n(88749),i=n(41971),l=n(51695),c=n(42953),s=n(74569),u=n.n(s),d=n(43360),f=n(89743),p=n(2677),h=n(59151),y=n(3637),v=n(78417),g=n(74387),b=(n(58826),n(2002)),m=n(92746),j=(n(98472),n(36161)),x=(n(35125),n(72426)),w=n.n(x),k=(n(64802),n(58484),n(22247)),_=n(80184),Z=n(24245)();t.default=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),n=t[0],s=t[1],x=(0,o.useState)([]),O=(0,r.Z)(x,2),C=O[0],A=O[1],E=(0,o.useState)([]),F=(0,r.Z)(E,2),R=F[0],S=F[1],P=(0,o.useState)([]),N=(0,r.Z)(P,2),L=(N[0],N[1]);function M(e,t,n){var r=n.sortElement,o=n.filterElement;return(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[o,e.text,r]})}var T=[{dataField:"colis.index_colis",text:k.Z.t("package-number"),headerFormatter:M,filter:(0,m.DN)({placeholder:k.Z.t("search")}),sort:!0},{dataField:"colis.name_complete",text:k.Z.t("client-name"),formatter:function(e,t){return(0,_.jsxs)("div",{children:["".concat(t.colis.name_complete," ")," : ","".concat(t.colis.gouvernorat)," ",(0,_.jsx)("br",{})," ","".concat(t.colis.gouvernorat)," ","".concat(t.colis.address)," "]})},headerFormatter:M,filter:(0,m.DN)({placeholder:k.Z.t("search")})},{dataField:"colis.phone_number",text:k.Z.t("phone-number"),headerFormatter:M,filter:(0,m.DN)({placeholder:k.Z.t("search")})},{dataField:"colis.designation",text:k.Z.t("designation"),headerFormatter:M,filter:(0,m.DN)({placeholder:k.Z.t("search")})},{dataField:"colis.price",text:k.Z.t("price")},{dataField:"status_delivery",text:k.Z.t("title-status"),formatter:function(e,t){return 0===t.status_delivery?(0,_.jsx)("div",{className:"h-auto  badge ",children:(0,_.jsx)("p",{style:{color:"orange"},children:k.Z.t("status-waiting")})}):1===t.status_delivery?(0,_.jsx)("div",{className:"h-auto  badge ",children:(0,_.jsx)("p",{style:{color:"green"},children:k.Z.t("status-engoing")})}):(0,_.jsx)("div",{className:"h-auto  badge ",children:(0,_.jsx)("p",{style:{color:"blue"},children:k.Z.t("status-single-delivered")})})}},{dataField:"colis.name_complete",text:k.Z.t("history"),formatter:function(e,t){return(0,_.jsx)("div",{children:(0,_.jsx)(v.Z,{to:"/history/colis/provider/"+t.colis.id,children:(0,_.jsxs)(d.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,_.jsx)("span",{className:"fa fa-file"})]})})})}}];(0,o.useEffect)((function(){U()}),[]);var U=function(){console.log("ici datataaaa");var e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},t=u().get(Z+"/provider/delivery/pending/list?current_page=1&per_page=500000",e),n=u().get(Z+"/provider/delivery/ongoing/list?current_page=1&per_page=500000",e),r=u().get(Z+"/provider/delivery/done/list?current_page=1&per_page=500000",e),o=u().get(Z+"/provider_id",e);u().all([t,n,r,o]).then(u().spread((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("this respon list0",t[2].data),console.log("this respon list1",t[3].data.data),s(t[0].data.data.data),A(t[1].data.data.data),S(t[2].data.data.data),L(t[3].data.data)}))).catch((function(e){console.error(e)}))},D={parentClassName:"parent-expand-foo",renderer:function(e,t){return(0,_.jsxs)("div",{children:[(0,_.jsxs)("p",{children:[(0,_.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  "," ",k.Z.t("creation-date")+":"," "]})," ",w()(e.colis.created_at).format("YYYY/MM/DD - hh:mm")," "]}),(0,_.jsxs)("p",{children:["    ",(0,_.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",k.Z.t("pickup-date")+":"," "," "]}),"  ",w()(e.colis.update_at).format("YYYY/MM/DD - hh:mm")," "]}),(0,_.jsxs)("p",{children:["    ",(0,_.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",k.Z.t("planification-date")+":"," "," "]}),"  ",w()(e.created_at).format("YYYY/MM/DD - hh:mm")," "]})]})},onlyOneExpanding:!0};return(0,_.jsx)(g.Z,{children:(0,_.jsx)(f.Z,{children:(0,_.jsxs)(p.Z,{children:[(0,_.jsx)("h5",{children:k.Z.t("packages-list")}),(0,_.jsx)("button",{className:"btn btn-info",onClick:function(){U()},children:k.Z.t("refresh")}),(0,_.jsx)("hr",{}),(0,_.jsx)(h.Z,{defaultActiveKey:"home",children:(0,_.jsx)(y.Z,{eventKey:"home",title:k.Z.t("delivery-list-all"),children:(0,_.jsxs)(a.Z,{className:"card-box mb-4",children:[(0,_.jsxs)("div",{className:"card-header",children:[(0,_.jsx)("div",{className:"card-header--title"}),(0,_.jsx)(i.Z,{className:"card-header--actions",children:(0,_.jsx)(l.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"})})]}),(0,_.jsx)(c.Z,{className:"p-0",children:(0,_.jsx)("div",{className:"table-responsive",children:(0,_.jsx)("div",{className:"app-row",children:(0,_.jsx)("div",{className:"app-col-xs-12 app-col-md-12",children:(0,_.jsx)(b.Z,{striped:!0,bordered:!0,hover:!0,loading:!0,variant:"dark",bootstrap4:!0,keyField:"id",data:n.concat(C).concat(R),columns:T,expandRow:D,pagination:(0,j.ZP)({sizePerPage:15,sizePerPageList:[5,10,15,20,25]}),filter:(0,m.ZP)(),headerClasses:"table thead-light mb-0"})})})})})]})})})]})})})}},58826:function(e,t,n){"use strict";var r=n(29439),o=n(72791),a=n(44517),i=n(81815),l=n(62298),c=n(4292),s=n(95234),u=n(78146),d=n(55649),f=n(59135),p=n(80184),h=n(50207),y={scale:5,encoderOptions:1,backgroundColor:"white"};t.Z=function(e){var t=e.buttonLabel,n=e.className,v=(0,o.useState)(!1),g=(0,r.Z)(v,2),b=g[0],m=g[1],j=(0,o.useState)(!0),x=(0,r.Z)(j,1)[0],w=function(){return m(!b)};return(0,p.jsxs)("div",{children:[(0,p.jsx)(a.Z,{inline:!0,onSubmit:function(e){return e.preventDefault()},children:(0,p.jsxs)(i.Z,{color:"info",onClick:w,children:[t,(0,p.jsx)("span",{className:"fa fa-qrcode"})]})}),(0,p.jsxs)(l.Z,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,isOpen:b,toggle:w,className:n,unmountOnClose:x,children:[(0,p.jsxs)(c.Z,{toggle:w,children:["   ",(0,p.jsxs)("div",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",(0,p.jsx)("span",{children:"  show qrcode "})," "]})," "]}),(0,p.jsxs)(s.Z,{size:"lg",children:[(0,p.jsx)("div",{children:(0,p.jsxs)("p",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",e.url]})}),(0,p.jsx)("p",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:(0,p.jsx)(u.QRCode,{id:"svg-chart",bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:256},value:e.url})})]}),(0,p.jsxs)(d.Z,{children:[(0,p.jsxs)(i.Z,{onClick:function(){h.saveSvgAsPng(document.getElementById("svg-chart"),"shapes.png",y)},children:["Download Image ",(0,p.jsx)(f.veA,{})]}),(0,p.jsxs)(i.Z,{onClick:function(){return window.print()},children:["PRINT ",(0,p.jsx)(f.rcQ,{})," "]})]})]})]})}},75348:function(e,t,n){"use strict";var r=n(72791);t.Z=r.createContext(null)},64802:function(e,t,n){var r,o,a;o=[],r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){c(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,l=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,n){var l=i.URL||i.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?a(c):o(c.href)?r(e,t,n):a(c,c.target="_blank")):(c.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(c.href)}),4e4),setTimeout((function(){a(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),n);else if(o(e))r(e,n,i);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){a(l)}))}}:function(e,t,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var a="application/octet-stream"===e.type,c=/constructor/i.test(i.HTMLElement)||i.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&c||l)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,f=d.createObjectURL(e);o?o.location=f:location.href=f,o=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});i.saveAs=c.saveAs=c,e.exports=c},void 0===(a="function"===typeof r?r.apply(t,o):r)||(e.exports=a)},33573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=null;return t.forEach((function(e){if(null==o){var t=e.apply(void 0,n);null!=t&&(o=t)}})),o}return(0,a.default)(r)};var r,o=n(46054),a=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},46054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,o,a,i){var l=o||"<<anonymous>>",c=i||r;if(null==n[r])return t?new Error("Required "+a+" `"+c+"` was not specified in `"+l+"`."):null;for(var s=arguments.length,u=Array(s>6?s-6:0),d=6;d<s;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,l,a,c].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},72709:function(e,t,n){"use strict";var r,o=n(87462),a=n(63366),i=n(60654),l=n.n(i),c=n(72791),s=n(32834),u=n(71380),d=n(67202),f=["className","children"],p=((r={})[s.d0]="show",r[s.cn]="show",r),h=c.forwardRef((function(e,t){var n=e.className,r=e.children,i=(0,a.Z)(e,f),h=(0,c.useCallback)((function(e){(0,d.Z)(e),i.onEnter&&i.onEnter(e)}),[i]);return c.createElement(s.ZP,(0,o.Z)({ref:t,addEndListener:u.Z},i,{onEnter:h}),(function(e,t){return c.cloneElement(r,(0,o.Z)({},t,{className:l()("fade",n,r.props.className,p[e])}))}))}));h.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},h.displayName="Fade",t.Z=h},55649:function(e,t,n){"use strict";var r=n(71923);t.Z=(0,r.Z)("modal-footer")},73351:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function o(e,t){return r(e.querySelectorAll(t))}},98472:function(e,t,n){e.exports=n(23561)},98015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(72791),i=(r=a)&&r.__esModule?r:{default:r},l=n(51509),c=n(58333);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildURI",value:function(){return l.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.headers,r=e.separator,o=e.enclosingCharacter,a=e.uFEFF,i=e.target,l=e.specs,c=e.replace;this.state.page=window.open(this.buildURI(t,a,n,r,o),i,l,c)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(i.default.Component);s.defaultProps=Object.assign(c.defaultProps,{target:"_blank"}),s.propTypes=c.propTypes,t.default=s},39088:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(72791),l=(r=i)&&r.__esModule?r:{default:r},c=n(51509),s=n(58333);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buildURI=n.buildURI.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"buildURI",value:function(){return c.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var n=this.props,r=n.data,o=n.headers,a=n.separator,i=n.filename,l=n.enclosingCharacter,s=n.uFEFF,u=t&&"function"===typeof r?r():r,d=new Blob([s?"\ufeff":"",(0,c.toCSV)(u,o,a,l)]);return window.navigator.msSaveBlob(d,i),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(n){!1!==n?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.headers,a=t.separator,i=t.filename,c=t.uFEFF,s=t.children,u=(t.onClick,t.asyncOnClick,t.enclosingCharacter),d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),f="undefined"===typeof window?"":this.buildURI(n,c,r,a,u);return l.default.createElement("a",o({download:i},d,{ref:function(t){return e.link=t},target:"_self",href:f,onClick:this.handleClick()}),s)}}]),t}(l.default.Component);u.defaultProps=s.defaultProps,u.propTypes=s.propTypes,t.default=u},51509:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},a=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)}))},i=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},l=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(r(e),r(t)))}),[]))},c=t.jsons2arrays=function(e,t){var n=t=t||l(e),o=t;a(t)&&(n=t.map((function(e){return e.label})),o=t.map((function(e){return e.key})));var i=e.map((function(e){return o.map((function(t){return s(t,e)}))}));return[n].concat(r(i))},s=t.getHeaderValue=function(e,t){var n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,n,r){var o=e[t];if(void 0!==o&&null!==o)return o;r.splice(1)}),t);return void 0===n?e in t?t[e]:"":n},u=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},d=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return u(e)})).map((function(e){return""+n+e+n})).join(t)})).join("\n")},f=t.arrays2csv=function(e,t,n,o){return d(t?[t].concat(r(e)):e,n,o)},p=t.jsons2csv=function(e,t,n,r){return d(c(e,t),n,r)},h=t.string2csv=function(e,t,n,r){return t?t.join(n)+"\n"+e:e.replace(/"/g,'""')},y=t.toCSV=function(e,t,n,r){if(a(e))return p(e,t,n,r);if(i(e))return f(e,t,n,r);if("string"===typeof e)return h(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,n,r,a){var i=y(e,n,r,a),l=o()?"application/csv":"text/csv",c=new Blob([t?"\ufeff":"",i],{type:l}),s="data:"+l+";charset=utf-8,"+(t?"\ufeff":"")+i,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?s:u.createObjectURL(c)}},23561:function(e,t,n){"use strict";t.CSVLink=void 0;var r=a(n(98015)),o=a(n(39088));function a(e){return e&&e.__esModule?e:{default:e}}r.default,t.CSVLink=o.default},58333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var r,o=n(72791),a=((r=o)&&r.__esModule,n(52007));t.propTypes={data:(0,a.oneOfType)([a.string,a.array,a.func]).isRequired,headers:a.array,target:a.string,separator:a.string,filename:a.string,uFEFF:a.bool,onClick:a.func,asyncOnClick:a.bool,enclosingCharacter:a.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]},55382:function(){},72095:function(){},61219:function(){}}]);
//# sourceMappingURL=5987.7aa84766.chunk.js.map