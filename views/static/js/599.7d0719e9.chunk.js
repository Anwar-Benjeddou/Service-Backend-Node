"use strict";(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[599],{42464:function(e,t,r){r(72791);var a=r(99410),n=r(74292),i=r(95693),o=r(80184);t.Z=function(e){var t=e.name,r=e.label,s=e.onChange,c=e.onBlur,l=e.value,d=e.type,u=e.isInvalid,h=e.errors,f=e.touched;return(0,o.jsx)(o.Fragment,{children:"Phone"===r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("label",{htmlFor:"basic-url",children:[t," ",(0,o.jsx)(i.Z,{errors:h,touched:f})]}),(0,o.jsxs)(a.Z,{className:"mb-3",children:[(0,o.jsx)(a.Z.Prepend,{children:(0,o.jsx)(a.Z.Text,{id:"basic-addon1",children:"+216"})}),(0,o.jsx)(n.Z,{placeholder:r,"aria-label":t,"aria-describedby":t,onChange:s,onBlur:c,value:l,isInvalid:u,label:r,name:t,type:d})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("label",{htmlFor:"basic-url",children:[r,"  ",(0,o.jsx)(i.Z,{errors:h,touched:f})]}),(0,o.jsx)(a.Z,{className:"mb-3",children:(0,o.jsx)(n.Z,{placeholder:r,"aria-label":r,"aria-describedby":r,onChange:s,onBlur:c,value:l,isInvalid:u,label:r,name:t,type:d})})]})})}},95693:function(e,t,r){r.d(t,{Z:function(){return s}});var a=r(29439),n=(r(72791),r(65151)),i=r(22247),o=r(80184),s=function(e){var t=function(e,t){return t?e&&t?["fa-times-circle-o input-invalid",e]:!e&&t?["fa-check-circle-o input-valid",i.Z.t("valid-field")]:void 0:[]}(e.errors,e.touched),r=(0,a.Z)(t,2),s=r[0],c=r[1];return(0,o.jsx)(n.ZP,{title:Array.isArray(c)?c.map((function(e){return(0,o.jsxs)("span",{className:"tooltip-message",children:[e," ",(0,o.jsx)("br",{})]})})):(0,o.jsxs)("span",{className:"tooltip-message",children:[c," ",(0,o.jsx)("br",{})]}),placement:"right",children:(0,o.jsx)("span",{children:(0,o.jsx)("i",{className:"fa "+s})})})}},46400:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var a=r(29439),n=r(72791),i=r(43360),o=r(89743),s=r(2677),c=r(78695),l=r(74569),d=r.n(l),u=(r(30337),r(50933)),h=(r(58988),r(74387)),f=r(95857),m=r(2002),x=(r(98472),r(36161)),j=r(92746),p=r(38780),v=r(99410),Z=r(74292),g=(r(55705),r(76863)),b=r(42464),y=r(80184),F=r(24245)();g.Ry().shape({email:g.Z_().email("Invalid Email").required("Email is Required"),phone_number:g.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").required("Phone is Required"),city:g.Z_().min(2,"City is Too Short!").max(20,"City is Too Long!").required("City is Required"),description:g.Z_().min(2,"description is Too Short!").max(20,"description is Too Long!").required("description is Required"),name:g.Z_().min(2,"name is Too Short!").max(20,"name is Too Long!").required("name is Required"),code:g.Z_().min(2,"code is Too Short!").max(20,"code is Too Long!").required("code is Required")});var _=function(e){var t=(0,n.useState)(!1),r=(0,a.Z)(t,2),c=r[0],l=r[1],u=(0,n.useState)(e.zone),h=((0,a.Z)(u,1)[0],(0,n.useState)([])),f=(0,a.Z)(h,2),m=(f[0],f[1],function(){return l(!1)}),x=(0,n.useState)(""),j=(0,a.Z)(x,2),g=j[0],_=j[1],N=(0,n.useState)(""),k=(0,a.Z)(N,2),q=k[0],C=k[1];return(0,n.useEffect)((function(){}),[]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(i.Z,{variant:"info",onClick:function(){return l(!0)},children:[" ",(0,y.jsx)("span",{className:"fa fa-check-circle"})," "]}),(0,y.jsxs)(p.Z,{show:c,onHide:m,children:[(0,y.jsx)(p.Z.Header,{closeButton:!0,children:(0,y.jsxs)(p.Z.Title,{children:["payment de facture fournisseur  ",e.factureid.id,"  "]})}),(0,y.jsx)(p.Z.Body,{children:(0,y.jsxs)(o.Z,{children:["                                  ",(0,y.jsxs)(s.Z,{md:12,children:[(0,y.jsx)(v.Z,{className:"mb-3",children:(0,y.jsxs)(Z.Z,{as:"select",id:"agence",custom:!0,onChange:function(e){return _(e.target.value)},onBlur:function(e){return _(e.target.value)},value:g,children:[(0,y.jsx)("option",{children:"Mode de paiment"}),(0,y.jsx)("option",{value:"esp\xe8ce",children:"esp\xe8ce"},"esp\xe8ce"),(0,y.jsx)("option",{value:"virement bancaire",children:"virement bancaire"},"virement bancaire"),(0,y.jsx)("option",{value:"ch\xe8que de banque",children:"ch\xe8que de banque"},"ch\xe8que de banque")]})}),(0,y.jsx)(b.Z,{name:"order",onChange:function(e){return C(e.target.value)},value:q,label:"indication / N.virment/ N.cheque"})]})]})}),(0,y.jsxs)(p.Z.Footer,{children:[(0,y.jsx)(i.Z,{variant:"info",onClick:function(){console.log(g),console.log(e.Listcolis);var t={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"x-access-token","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};g?d().put(F+"/facture/final",{facture:e.factureid.id,mode_payment:g,order:q},t).then((function(t){console.log("this respon list",t.data),alert("payment effectue"),e.reloaddata(),m()})).catch((function(e){console.log(e)})):alert("merci de choisir mode de payement")},children:"Enregistrer"}),(0,y.jsx)(i.Z,{variant:"secondary",onClick:m,children:"fermer"})]})]})]})},N=r(72426),k=r.n(N),q=r(78417),C=r(24245)();var D=function(){function e(e,t,r){var a=r.sortElement,n=r.filterElement;return(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[n,e.text,a,(0,y.jsx)("span",{className:"fa fa-filter"})]})}var t=(0,n.useState)([]),r=(0,a.Z)(t,2),l=r[0],p=r[1];(0,n.useEffect)((function(){v()}),[]);var v=function(){var e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};d().get(C+"/facture/final/status",e).then((function(e){console.log("this respon list",e.data),p(e.data.data.reverse())})).catch((function(e){console.log(e)}))},Z=[{dataField:"code_facture",text:"etat de paiement",headerFormatter:e,style:{textAlign:"center"},filter:(0,j.DN)(),formatter:function(e,t){return 1===t.status_facture?(0,y.jsxs)("div",{children:["  ",(0,y.jsx)(i.Z,{variant:"success",children:(0,y.jsx)(u.Z,{text:"pay\xe9"})},t.id)]}):(0,y.jsxs)("div",{children:["  ",(0,y.jsx)(i.Z,{variant:"warning",children:(0,y.jsx)(u.Z,{text:"Non pay\xe9"})},t.id)]})},sort:!0},{dataField:"code_facture",text:"code_facture",headerFormatter:e,filter:(0,j.DN)(),sort:!0},{dataField:"provider.username",text:"Fournisseur",headerFormatter:e,formatter:function(e,t){return(0,y.jsxs)("div",{children:["".concat(t.provider.username," ")," ",(0,y.jsx)("br",{})," ","".concat(t.provider.phone_number)]})},filter:(0,j.DN)(),sort:!0},{text:"frais_total",dataField:"frais_livraision",headerFormatter:e,filter:(0,j.DN)(),sort:!0},{text:"frais_livraision",dataField:"frais_total",headerFormatter:e,filter:(0,j.DN)(),sort:!0},{text:"nombre de colis",dataField:"nb_colis",headerFormatter:e,filter:(0,j.DN)(),sort:!0},{text:"Type de payment",dataField:"mode_payment",formatter:function(e,t){if(t.mode_payment)return(0,y.jsxs)("div",{children:["".concat(t.mode_payment," ")," ",(0,y.jsx)("br",{})," ","".concat(t.order)]})},headerFormatter:e,filter:(0,j.DN)(),sort:!0},{text:"Montant pour fournisseur",dataField:"frais_livraision",headerFormatter:e,formatter:function(e,t){return(0,y.jsxs)("div",{children:["".concat(t.frais_livraision-t.frais_total)," "]})},filter:(0,j.DN)(),sort:!0},{text:"Date",dataField:"updated_at",headerFormatter:e,formatter:function(e,t){return(0,y.jsxs)("div",{children:["".concat(k()(t.updated_at).format("DD/MM/YYYY [at] HH:mm")," ")," "]})},filter:(0,j.DN)(),sort:!0},{text:"Modifier colis facture",dataField:"code_facture",headerFormatter:e,style:{textAlign:"center"},filter:(0,j.DN)(),formatter:function(e,t){return(0,y.jsx)("div",{children:(0,y.jsx)(q.Z,{to:"/facture/gestioncheq/"+t.code_facture,children:(0,y.jsxs)(i.Z,{variant:"dark",onClick:function(){return console.log("not yet")},children:[" ",(0,y.jsx)("span",{className:"fa fa-pencil"})]})})})},sort:!0},{text:"Liste de colis",dataField:"mode_payement",headerFormatter:e,style:{textAlign:"center"},filter:(0,j.DN)(),formatter:function(e,t){return(0,y.jsxs)("div",{children:[(0,y.jsx)(f.Z,{codefacture:t}),"  "]})},sort:!0},{text:"Valider Payment",dataField:"mode_payement",headerFormatter:e,style:{textAlign:"center"},filter:(0,j.DN)(),formatter:function(e,t){return(0,y.jsxs)("div",{children:[" ",(0,y.jsx)(_,{factureid:t,reloaddata:function(){return v()}}),"    "]})},sort:!0}];return(0,y.jsx)(h.Z,{children:(0,y.jsx)(o.Z,{children:(0,y.jsx)(s.Z,{children:(0,y.jsxs)(c.Z,{children:[(0,y.jsx)(c.Z.Header,{children:(0,y.jsx)(c.Z.Title,{as:"h5",children:"Liste Facture    "})}),(0,y.jsx)(c.Z.Body,{children:(0,y.jsx)(m.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",bootstrap4:!0,keyField:"id",data:l,columns:Z,pagination:(0,x.ZP)({sizePerPage:15,sizePerPageList:[5,10,15,20,25]}),filter:(0,j.ZP)(),headerClasses:"table thead-light mb-0"})})]})})})})}}}]);
//# sourceMappingURL=599.7d0719e9.chunk.js.map