"use strict";(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[9428],{25773:function(e,t,a){a.r(t);var n=a(15671),r=a(43144),s=a(60136),i=a(29388),l=a(72791),o=a(88749),c=a(41971),d=a(51695),u=a(42953),p=a(99410),h=a(74292),m=a(74569),f=a.n(m),v=a(89743),x=a(2677),j=a(59151),Z=a(3637),b=a(22247),g=a(74387),N=a(80184),y=a(24245)(),k=function(e){(0,s.Z)(a,e);var t=(0,i.Z)(a);function a(e){var r;return(0,n.Z)(this,a),(r=t.call(this,e)).state={pendingPackages:[],drivers:[],driver:""},r}return(0,r.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},a=f().get(y+"/driver",t),n=f().get(y+"/pickup/reschedule/list?current_page=1&per_page=500",t);f().all([a,n]).then(f().spread((function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];e.setState({pendingPackages:a[1].data.data.data}),console.log(a[1].data.data.data),e.setState({drivers:a[0].data.data})}))).catch((function(e){console.log(e)}))}},{key:"savedriver",value:function(e,t){var a=this;console.log(e),console.log(t),this.setState({drivers:[]});var n={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}};f().put(y+"/pickup/to_reschedule",{driver:e,coliss:[t]},n).then((function(e){alert("add Succefull"),console.log(e.data),a.componentDidMount()})).catch((function(e){console.log(e)}))}},{key:"reloaddata",value:function(){this.componentDidMount()}},{key:"render",value:function(){var e=this;return(0,N.jsx)(g.Z,{children:(0,N.jsx)(v.Z,{children:(0,N.jsxs)(x.Z,{children:[(0,N.jsx)("button",{className:"btn btn-info",onClick:function(){return e.reloaddata()},children:b.Z.t("refresh")}),(0,N.jsx)("h5",{children:b.Z.t("pickups-anomaly")}),(0,N.jsx)("hr",{}),(0,N.jsx)(j.Z,{defaultActiveKey:"home",children:(0,N.jsx)(Z.Z,{eventKey:"home",title:b.Z.t("waiting-to-reschedule"),children:(0,N.jsxs)(o.Z,{className:"card-box mb-4",children:[(0,N.jsxs)("div",{className:"card-header",children:[(0,N.jsx)("div",{className:"card-header--title"}),(0,N.jsx)(c.Z,{className:"card-header--actions",children:(0,N.jsx)(d.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"})})]}),(0,N.jsx)(u.Z,{className:"p-0",children:(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"table  table-hover text-nowrap mb-0",children:[(0,N.jsx)("thead",{className:"table thead-light mb-0",children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{children:b.Z.t("provider")}),(0,N.jsx)("th",{className:"text-center",children:b.Z.t("client-name")}),(0,N.jsx)("th",{className:"text-center",children:b.Z.t("driver")}),(0,N.jsx)("th",{className:"text-center",children:b.Z.t("creation-date")}),(0,N.jsx)("th",{className:"text-center",children:b.Z.t("action-event")}),(0,N.jsx)("th",{className:"text-center"})]})}),(0,N.jsx)("tbody",{children:this.state.pendingPackages.map((function(t,a){return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:(0,N.jsx)("div",{className:"d-flex align-items-center",children:(0,N.jsxs)("div",{children:[(0,N.jsxs)("a",{href:"#/",onClick:function(e){return e.preventDefault()},className:"font-weight-bold text-black",title:"...",children:[t.colis.provider.username," :"," ",t.colis.provider.phone_number]}),(0,N.jsxs)("span",{className:"text-black-50 d-block",children:[t.colis.provider.code_postal," :"," ",t.colis.provider.address]})]})})}),(0,N.jsx)("td",{className:"text-center",children:(0,N.jsxs)("div",{className:"h-auto  badge ",children:[t.colis.name_complete," : ",t.colis.phone_number," ",(0,N.jsx)("br",{}),t.colis.address]})}),(0,N.jsx)("td",{className:"text-center",children:(0,N.jsx)("div",{className:"h-auto  badge ",children:t.driver?t.driver.username:"non approv\xe9"})}),(0,N.jsx)("td",{className:"text-center",children:(0,N.jsx)("div",{className:"h-auto  badge ",children:t.created_at})}),(0,N.jsx)(p.Z,{className:"mb-3",children:(0,N.jsxs)(h.Z,{as:"select",id:"{this.state.driver}",onChange:function(a){return e.savedriver(a.target.value,t.colis.id)},custom:!0,children:[(0,N.jsx)("option",{children:"Choisir un chauffeur"}),e.state.drivers.map((function(e,t){return(0,N.jsx)("option",{className:" badge badge-info",value:e.id,children:e.username},e.id)}))]})}),(0,N.jsx)("td",{}),(0,N.jsx)("td",{className:"text-center",children:(0,N.jsx)(c.Z,{children:(0,N.jsx)(d.Z,{color:"primary",size:"small"})})})]},a)}))})]})})})]})})})]})})})}}]),a}(l.Component);t.default=k},75348:function(e,t,a){var n=a(72791);t.Z=n.createContext(null)},33573:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];function n(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,a);null!=t&&(r=t)}})),r}return(0,s.default)(n)};var n,r=a(46054),s=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},46054:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,a,n,r,s,i){var l=r||"<<anonymous>>",o=i||n;if(null==a[n])return t?new Error("Required "+s+" `"+o+"` was not specified in `"+l+"`."):null;for(var c=arguments.length,d=Array(c>6?c-6:0),u=6;u<c;u++)d[u-6]=arguments[u];return e.apply(void 0,[a,n,l,s,o].concat(d))}var a=t.bind(null,!1);return a.isRequired=t.bind(null,!0),a},e.exports=t.default},72709:function(e,t,a){var n,r=a(87462),s=a(63366),i=a(60654),l=a.n(i),o=a(72791),c=a(32834),d=a(71380),u=a(67202),p=["className","children"],h=((n={})[c.d0]="show",n[c.cn]="show",n),m=o.forwardRef((function(e,t){var a=e.className,n=e.children,i=(0,s.Z)(e,p),m=(0,o.useCallback)((function(e){(0,u.Z)(e),i.onEnter&&i.onEnter(e)}),[i]);return o.createElement(c.ZP,(0,r.Z)({ref:t,addEndListener:d.Z},i,{onEnter:m}),(function(e,t){return o.cloneElement(n,(0,r.Z)({},t,{className:l()("fade",a,n.props.className,h[e])}))}))}));m.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},m.displayName="Fade",t.Z=m},70783:function(e,t,a){var n=a(87462),r=a(63366),s=a(60654),i=a.n(s),l=a(72791),o=a(52007),c=a.n(o),d=["as","className","type","tooltip"],u={type:c().string,tooltip:c().bool,as:c().elementType},p=l.forwardRef((function(e,t){var a=e.as,s=void 0===a?"div":a,o=e.className,c=e.type,u=void 0===c?"valid":c,p=e.tooltip,h=void 0!==p&&p,m=(0,r.Z)(e,d);return l.createElement(s,(0,n.Z)({},m,{ref:t,className:i()(o,u+"-"+(h?"tooltip":"feedback"))}))}));p.displayName="Feedback",p.propTypes=u,t.Z=p},84934:function(e,t,a){var n=a(72791).createContext({controlId:void 0});t.Z=n},74292:function(e,t,a){var n=a(87462),r=a(63366),s=a(60654),i=a.n(s),l=(a(33573),a(72791)),o=(a(42391),a(70783)),c=a(84934),d=a(10162),u=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],p=l.forwardRef((function(e,t){var a,s,o=e.bsPrefix,p=e.bsCustomPrefix,h=e.type,m=e.size,f=e.htmlSize,v=e.id,x=e.className,j=e.isValid,Z=void 0!==j&&j,b=e.isInvalid,g=void 0!==b&&b,N=e.plaintext,y=e.readOnly,k=e.custom,C=e.as,E=void 0===C?"input":C,w=(0,r.Z)(e,u),A=(0,l.useContext)(c.Z).controlId,P=k?[p,"custom"]:[o,"form-control"],_=P[0],z=P[1];if(o=(0,d.vE)(_,z),N)(s={})[o+"-plaintext"]=!0,a=s;else if("file"===h){var S;(S={})[o+"-file"]=!0,a=S}else if("range"===h){var I;(I={})[o+"-range"]=!0,a=I}else if("select"===E&&k){var O;(O={})[o+"-select"]=!0,O[o+"-select-"+m]=m,a=O}else{var R;(R={})[o]=!0,R[o+"-"+m]=m,a=R}return l.createElement(E,(0,n.Z)({},w,{type:h,size:f,ref:t,readOnly:y,id:v||A,className:i()(x,a,Z&&"is-valid",g&&"is-invalid")}))}));p.displayName="FormControl",t.Z=Object.assign(p,{Feedback:o.Z})},99410:function(e,t,a){var n=a(63366),r=a(87462),s=a(60654),i=a.n(s),l=a(72791),o=a(71923),c=a(10162),d=["bsPrefix","size","hasValidation","className","as"],u=(0,o.Z)("input-group-append"),p=(0,o.Z)("input-group-prepend"),h=(0,o.Z)("input-group-text",{Component:"span"}),m=l.forwardRef((function(e,t){var a=e.bsPrefix,s=e.size,o=e.hasValidation,u=e.className,p=e.as,h=void 0===p?"div":p,m=(0,n.Z)(e,d);return a=(0,c.vE)(a,"input-group"),l.createElement(h,(0,r.Z)({ref:t},m,{className:i()(u,a,s&&a+"-"+s,o&&"has-validation")}))}));m.displayName="InputGroup",m.Text=h,m.Radio=function(e){return l.createElement(h,null,l.createElement("input",(0,r.Z)({type:"radio"},e)))},m.Checkbox=function(e){return l.createElement(h,null,l.createElement("input",(0,r.Z)({type:"checkbox"},e)))},m.Append=u,m.Prepend=p,t.Z=m},73351:function(e,t,a){a.d(t,{Z:function(){return r}});var n=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(e,t){return n(e.querySelectorAll(t))}}}]);
//# sourceMappingURL=9428.c3d32eb9.chunk.js.map