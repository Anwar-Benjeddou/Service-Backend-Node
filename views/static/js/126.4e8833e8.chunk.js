(self.webpackChunksubdomaine=self.webpackChunksubdomaine||[]).push([[126],{84813:function(e,t,a){"use strict";a.r(t);var s=a(29439),r=a(72791),i=a(88749),l=a(41971),n=a(51695),c=a(42953),o=a(74569),d=a.n(o),h=a(43360),p=a(89743),m=a(2677),x=a(59151),u=a(3637),f=a(45279),Z=a(46387),j=a(78417),v=a(74387),g=a(58826),b=a(2002),y=a(92746),N=(a(98472),a(36161)),F=(a(35125),a(72426)),_=a.n(F),k=a(64802),w=a(58484),D=a(22247),C=a(80184),P=a(24245)();t.default=function(){var e=(0,r.useState)([]),t=(0,s.Z)(e,2),a=t[0],o=t[1],F=(0,r.useState)([]),A=(0,s.Z)(F,2),S=A[0],z=A[1],Y=(0,r.useState)([]),I=(0,s.Z)(Y,2),K=I[0],L=I[1],M=(0,r.useState)([]),W=(0,s.Z)(M,2),E=(W[0],W[1]);function R(e,t,a){var s=a.sortElement,r=a.filterElement;return(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[r,e.text,s]})}var q=[{dataField:"colis.index_colis",text:D.Z.t("package-number"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")}),sort:!0},{dataField:"colis.name_complete",text:D.Z.t("client-name"),formatter:function(e,t){return(0,C.jsxs)("div",{children:["".concat(t.colis.name_complete," ")," : ","".concat(t.colis.gouvernorat)," ",(0,C.jsx)("br",{})," ","".concat(t.colis.gouvernorat)," ","".concat(t.colis.address)," "]})},headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.phone_number",text:D.Z.t("phone-number"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.designation",text:D.Z.t("designation"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.price",text:D.Z.t("price")},{dataField:"colis.name_complete",text:D.Z.t("title-status"),formatter:function(e,t){return(0,C.jsx)("div",{className:"h-auto  badge ",children:(0,C.jsx)("p",{style:{color:"orange"},children:D.Z.t("status-waiting")})})}},{dataField:"colis.name_complete",text:D.Z.t("history"),formatter:function(e,t){return(0,C.jsx)("div",{children:(0,C.jsx)(j.Z,{to:"/history/colis/provider/"+t.colis.id,children:(0,C.jsxs)(h.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,C.jsx)("span",{className:"fa fa-file"})]})})})}}],O=[{dataField:"colis.index_colis",text:D.Z.t("package-number"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")}),sort:!0},{dataField:"colis.name_complete",text:D.Z.t("client-name"),formatter:function(e,t){return(0,C.jsxs)("div",{children:["".concat(t.colis.name_complete," ")," : ","".concat(t.colis.gouvernorat)," ",(0,C.jsx)("br",{})," ","".concat(t.colis.gouvernorat)," ","".concat(t.colis.address)," "]})},headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.phone_number",text:D.Z.t("phone-number"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.designation",text:D.Z.t("designation"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.price",text:D.Z.t("price")},{dataField:"colis.name_complete",text:D.Z.t("title-status"),formatter:function(e,t){return(0,C.jsx)("div",{className:"h-auto  badge ",children:(0,C.jsx)("p",{style:{color:"green"},children:D.Z.t("status-single-delivered")})})}},{dataField:"colis.name_complete",text:D.Z.t("qr-code"),formatter:function(e,t){return(0,C.jsx)(g.Z,{url:t.colis.id})}},{dataField:"colis.name_complete",text:D.Z.t("history"),formatter:function(e,t){return(0,C.jsx)(j.Z,{to:"/history/colis/provider/"+t.colis.id,children:(0,C.jsxs)(h.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,C.jsx)("span",{className:"fa fa-file"})]})})}}],T=[{dataField:"colis.index_colis",text:D.Z.t("package-number"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.name_complete",text:D.Z.t("client-name"),formatter:function(e,t){return(0,C.jsxs)("div",{children:["".concat(t.colis.name_complete," ")," : ","".concat(t.colis.phone_number)," ",(0,C.jsx)("br",{})," ","".concat(t.colis.gouvernorat)," ","".concat(t.colis.address)," "]})},headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.phone_number",text:D.Z.t("phone-number"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.designation",text:D.Z.t("designation"),headerFormatter:R,filter:(0,y.DN)({placeholder:D.Z.t("search")})},{dataField:"colis.price",text:D.Z.t("price")},{dataField:"colis.name_complete",text:D.Z.t("title-status"),formatter:function(e,t){return(0,C.jsx)("div",{className:"h-auto  badge ",children:(0,C.jsx)("p",{style:{color:"red"},children:D.Z.t("status-engoing")})})}},{dataField:"colis.name_complete",text:D.Z.t("qr-code"),formatter:function(e,t){return(0,C.jsx)("div",{children:(0,C.jsx)(g.Z,{url:t.colis.id})})}},{dataField:"colis.name_complete",text:D.Z.t("history"),formatter:function(e,t){return(0,C.jsx)("div",{children:(0,C.jsx)(j.Z,{to:"/history/colis/provider/"+t.colis.id,children:(0,C.jsxs)(h.Z,{variant:"success",onClick:function(){return console.log("not yet")},children:[" ",(0,C.jsx)("span",{className:"fa fa-file"})]})})})}}];(0,r.useEffect)((function(){B()}),[]);var B=function(){console.log("ici datataaaa");var e={headers:{"Content-Type":"application/json","Access-Control-Allow-Headers":"Authorization","x-access-token":localStorage.getItem("token"),Authorization:"Bearer "+localStorage.getItem("token")}},t=d().get(P+"/provider/delivery/pending/list?current_page=1&per_page=500000",e),a=d().get(P+"/provider/delivery/ongoing/list?current_page=1&per_page=500000",e),s=d().get(P+"/provider/delivery/done/list?current_page=1&per_page=500000",e),r=d().get(P+"/provider_id",e);d().all([t,a,s,r]).then(d().spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console.log("this respon list0",t[2].data),console.log("this respon list1",t[3].data.data),o(t[0].data.data.data),z(t[1].data.data.data),L(t[2].data.data.data),E(t[3].data.data)}))).catch((function(e){console.error(e)}))},Q=function(e,t,a){if("pdf"===e);else{var s=t.map((function(e){return{"Num\xe9ro colis":e.colis.index_colis,"client ":e.colis.name_complete,"N. de t\xe9l\xe9phone":e.colis.phone_number,gouvernorat:e.colis.gouvernorat,addresse:e.colis.city+":"+e.colis.address,prix:e.colis.price,"type paiment":e.colis.payment_mode,"type d'envoi":e.colis.type_envoi}})),r={Sheets:{data:w.utils.json_to_sheet(s)},SheetNames:["data"]},i=w.write(r,{bookType:"xlsx",type:"array"}),l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});k.saveAs(l,a+".xlsx")}},V={parentClassName:"parent-expand-foo",renderer:function(e,t){return(0,C.jsxs)("div",{children:[(0,C.jsxs)("p",{children:[(0,C.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  "," ",D.Z.t("creation-date")+":"," "]})," ",_()(e.colis.created_at).format("YYYY/MM/DD - hh:mm")," "]}),(0,C.jsxs)("p",{children:["    ",(0,C.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",D.Z.t("pickup-date")+":"," "," "]}),"  ",_()(e.colis.update_at).format("YYYY/MM/DD - hh:mm")," "]}),(0,C.jsxs)("p",{children:["    ",(0,C.jsxs)("span",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",D.Z.t("planification-date")+":"," "," "]}),"  ",_()(e.created_at).format("YYYY/MM/DD - hh:mm")," "]})]})},onlyOneExpanding:!0};return(0,C.jsx)(v.Z,{children:(0,C.jsx)(p.Z,{children:(0,C.jsxs)(m.Z,{children:[(0,C.jsx)("h5",{children:D.Z.t("packages-list")}),(0,C.jsx)("button",{className:"btn btn-info",onClick:function(){B()},children:D.Z.t("refresh")}),(0,C.jsx)("hr",{}),(0,C.jsxs)(x.Z,{defaultActiveKey:"home",children:[(0,C.jsx)(u.Z,{eventKey:"home",title:D.Z.t("status-waiting"),children:(0,C.jsxs)(i.Z,{className:"card-box mb-4",children:[(0,C.jsxs)("div",{className:"card-header",children:[(0,C.jsx)("div",{className:"card-header--title"}),(0,C.jsxs)(l.Z,{className:"card-header--actions",children:[(0,C.jsx)(n.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"}),(0,C.jsxs)(f.Z,{title:(0,C.jsx)("span",{className:"fa fa-download",children:D.Z.t("planned-packages-list")}),variant:"info",id:"dropdown-variants-success",onSelect:function(e){return Q(e,a,"Liste colis planifi\xe9")},children:[(0,C.jsx)(Z.Z.Item,{eventKey:"pdf",children:D.Z.t("pdf")}),(0,C.jsxs)(Z.Z.Item,{eventKey:"csv",children:[D.Z.t("excel")," "]})]},"success")]})]}),(0,C.jsx)(c.Z,{className:"p-0",children:(0,C.jsx)("div",{className:"table-responsive",children:(0,C.jsx)("div",{className:"app-row",children:(0,C.jsx)("div",{className:"app-col-xs-12 app-col-md-12",children:(0,C.jsx)(b.Z,{striped:!0,bordered:!0,hover:!0,loading:!0,variant:"dark",bootstrap4:!0,keyField:"id",data:a,columns:q,expandRow:V,pagination:(0,N.ZP)({sizePerPage:15,sizePerPageList:[5,10,15,20,25]}),filter:(0,y.ZP)(),headerClasses:"table thead-light mb-0"})})})})})]})}),(0,C.jsx)(u.Z,{eventKey:"profile",title:D.Z.t("status-engoing"),children:(0,C.jsxs)(i.Z,{className:"card-box mb-4",children:[(0,C.jsxs)("div",{className:"card-header",children:[(0,C.jsx)("div",{className:"card-header--title"}),(0,C.jsx)(l.Z,{className:"card-header--actions",children:(0,C.jsx)(n.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"})}),(0,C.jsxs)(f.Z,{title:(0,C.jsx)("span",{className:"fa fa-download",children:D.Z.t("engoing-packages-list")}),variant:"info",id:"dropdown-variants-success",onSelect:function(e){return Q(e,S,"Liste en cours")},children:[(0,C.jsx)(Z.Z.Item,{eventKey:"pdf",children:D.Z.t("pdf")}),(0,C.jsxs)(Z.Z.Item,{eventKey:"csv",children:[D.Z.t("excel")," "]})]},"success")]}),(0,C.jsx)(c.Z,{className:"p-0",children:(0,C.jsx)("div",{className:"table-responsive",children:(0,C.jsx)("div",{className:"app-row",children:(0,C.jsx)("div",{className:"app-col-xs-12 app-col-md-12",children:(0,C.jsx)(b.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",bootstrap4:!0,keyField:"id",data:S,columns:T,expandRow:V,pagination:(0,N.ZP)({sizePerPage:15,sizePerPageList:[5,10,15,20,25]}),filter:(0,y.ZP)(),headerClasses:"table thead-light mb-0"})})})})})]})}),(0,C.jsx)(u.Z,{eventKey:"contact",title:D.Z.t("status-sum-delivered"),children:(0,C.jsxs)(i.Z,{className:"card-box mb-4",children:[(0,C.jsxs)("div",{className:"card-header",children:[(0,C.jsx)("div",{className:"card-header--title"}),(0,C.jsx)(l.Z,{className:"card-header--actions",children:(0,C.jsx)(n.Z,{size:"small",color:"primary",className:"text-primary",title:"View details"})}),function(e){for(var t=0,a=0,s=e.length;a<s;a++)t+=parseFloat(e[a].colis.price);return t}(K),(0,C.jsxs)(f.Z,{title:(0,C.jsx)("span",{className:"fa fa-download",children:D.Z.t("planned-packages-list")}),variant:"info",id:"dropdown-variants-success",onSelect:function(e){return Q(e,K,"Liste colis livr\xe9")},children:[(0,C.jsx)(Z.Z.Item,{eventKey:"pdf",children:D.Z.t("pdf")}),(0,C.jsxs)(Z.Z.Item,{eventKey:"csv",children:[D.Z.t("excel")," "]})]},"success")]}),(0,C.jsx)(c.Z,{className:"p-0",children:(0,C.jsx)("div",{className:"table-responsive",children:(0,C.jsx)("div",{className:"app-row",children:(0,C.jsx)("div",{className:"app-col-xs-12 app-col-md-12",children:(0,C.jsx)(b.Z,{striped:!0,bordered:!0,hover:!0,variant:"dark",bootstrap4:!0,keyField:"id",data:K,columns:O,expandRow:V,pagination:(0,N.ZP)({sizePerPage:15,sizePerPageList:[5,10,15,20,25]}),filter:(0,y.ZP)(),headerClasses:"table thead-light mb-0"})})})})})]})})]})]})})})}},58826:function(e,t,a){"use strict";var s=a(29439),r=a(72791),i=a(44517),l=a(81815),n=a(62298),c=a(4292),o=a(95234),d=a(78146),h=a(55649),p=a(59135),m=a(80184),x=a(50207),u={scale:5,encoderOptions:1,backgroundColor:"white"};t.Z=function(e){var t=e.buttonLabel,a=e.className,f=(0,r.useState)(!1),Z=(0,s.Z)(f,2),j=Z[0],v=Z[1],g=(0,r.useState)(!0),b=(0,s.Z)(g,1)[0],y=function(){return v(!j)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(i.Z,{inline:!0,onSubmit:function(e){return e.preventDefault()},children:(0,m.jsxs)(l.Z,{color:"info",onClick:y,children:[t,(0,m.jsx)("span",{className:"fa fa-qrcode"})]})}),(0,m.jsxs)(n.Z,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,isOpen:j,toggle:y,className:a,unmountOnClose:b,children:[(0,m.jsxs)(c.Z,{toggle:y,children:["   ",(0,m.jsxs)("div",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",(0,m.jsx)("span",{children:"  show qrcode "})," "]})," "]}),(0,m.jsxs)(o.Z,{size:"lg",children:[(0,m.jsx)("div",{children:(0,m.jsxs)("p",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:["  ",e.url]})}),(0,m.jsx)("p",{style:{color:"black",fontWeight:"bold",textAlign:"center"},children:(0,m.jsx)(d.QRCode,{id:"svg-chart",bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:256},value:e.url})})]}),(0,m.jsxs)(h.Z,{children:[(0,m.jsxs)(l.Z,{onClick:function(){x.saveSvgAsPng(document.getElementById("svg-chart"),"shapes.png",u)},children:["Download Image ",(0,m.jsx)(p.veA,{})]}),(0,m.jsxs)(l.Z,{onClick:function(){return window.print()},children:["PRINT ",(0,m.jsx)(p.rcQ,{})," "]})]})]})]})}},55382:function(){},72095:function(){},61219:function(){}}]);
//# sourceMappingURL=126.4e8833e8.chunk.js.map